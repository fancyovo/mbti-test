<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è£æ ¼å…«ç»´å…¨æ¯æµ‹è¯„ç³»ç»Ÿ (ç§»åŠ¨ç«¯é€‚é…ç‰ˆ)</title>
    <!-- å¼•å…¥ Marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --accent-hover: #2980b9;
            --bg: #f4f6f9;
            --card-bg: #ffffff;
            --text: #2c3e50;
            --border: #e1e4e8;
            --shadow: 0 4px 20px rgba(0,0,0,0.05);
            --radius: 12px;
            --chat-user: #e3f2fd;
            --chat-ai: #ffffff;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        /* é¡µé¢é€šç”¨ */
        .page {
            display: none;
            flex: 1;
            flex-direction: column;
            overflow-y: auto;
            padding: 20px;
            animation: fadeIn 0.3s ease;
            -webkit-overflow-scrolling: touch;
        }
        .page.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* é¦–é¡µ */
        .home-content {
            max-width: 900px;
            width: 100%;
            margin: auto;
            text-align: center;
            background: var(--card-bg);
            padding: 50px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        .mode-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 15px;
            margin: 40px 0;
        }

        .mode-card {
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .mode-card:hover { border-color: var(--accent); background: #ebf5fb; }
        .mode-card.selected { border-color: var(--accent); background: var(--accent); color: white; }
        .mode-card.selected p { color: rgba(255,255,255,0.9); }

        .btn-start {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 60px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.1s;
            box-shadow: 0 4px 15px rgba(44, 62, 80, 0.3);
            width: 100%;
            max-width: 300px;
        }
        .btn-start:hover { transform: scale(1.05); background: #1a252f; }

        .btn-import {
            margin-top: 20px;
            background: transparent;
            border: 1px dashed #aaa;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            color: #666;
            font-size: 0.9rem;
        }

        /* ç­”é¢˜é¡µ */
        .quiz-container {
            max-width: 800px;
            width: 100%;
            margin: auto;
            background: var(--card-bg);
            padding: 40px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            min-height: 60vh;
            display: flex;
            flex-direction: column;
        }

        .progress-bar { height: 8px; background: #eee; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.3s; }

        .question-text {
            font-size: 1.4rem;
            font-weight: 500;
            margin: 30px 0;
            line-height: 1.6;
            text-align: center;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .options-row { display: flex; gap: 10px; margin-bottom: 20px; }
        .opt-btn {
            flex: 1;
            padding: 15px 5px;
            border: 1px solid var(--border);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .opt-btn:active { transform: scale(0.98); }
        .opt-1:hover, .opt-1:active { background: #ffebee; border-color: #ef5350; color: #c62828; }
        .opt-2:hover, .opt-2:active { background: #fff3e0; border-color: #ff9800; color: #ef6c00; }
        .opt-3:hover, .opt-3:active { background: #f5f5f5; border-color: #9e9e9e; color: #616161; }
        .opt-4:hover, .opt-4:active { background: #e8f5e9; border-color: #66bb6a; color: #2e7d32; }
        .opt-5:hover, .opt-5:active { background: #e3f2fd; border-color: #42a5f5; color: #1565c0; }

        /* ç»“æœé¡µå¸ƒå±€ */
        .result-layout {
            display: flex;
            height: 100%;
            gap: 20px;
            max-width: 1600px;
            margin: 0 auto;
            width: 100%;
            padding: 0 20px 20px 20px;
        }

        .left-panel {
            width: 380px;
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 25px;
            overflow-y: auto;
            box-shadow: var(--shadow);
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
        }

        .right-panel {
            flex: 1;
            background: var(--card-bg);
            border-radius: var(--radius);
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .chart-row { display: flex; align-items: center; margin-bottom: 15px; font-size: 0.9rem; }
        
        .chart-label-container {
            width: 40px;
            position: relative;
            cursor: help;
        }
        
        .chart-label { font-weight: bold; color: var(--primary); border-bottom: 1px dotted #999; }

        .chart-label-container:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: #333;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: normal;
            width: 240px;
            line-height: 1.4;
            text-align: left;
            z-index: 100;
            margin-left: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            pointer-events: none;
        }
        .chart-label-container:hover::before {
            content: '';
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: transparent #333 transparent transparent;
            margin-left: 0px;
        }

        .chart-track { flex: 1; height: 12px; background: #f0f0f0; border-radius: 6px; margin: 0 12px; overflow: hidden; }
        .chart-fill { height: 100%; background: var(--accent); border-radius: 6px; transition: width 1s ease; }
        .chart-val { width: 45px; text-align: right; font-family: monospace; font-weight: bold; }

        .type-badge {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--accent);
            text-align: center;
            margin: 10px 0;
            letter-spacing: 2px;
        }

        .chat-header {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            background: #fafafa;
            display: flex;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap;
        }

        .ai-tab {
            padding: 6px 12px;
            border-radius: 20px;
            border: 1px solid var(--border);
            background: white;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
            color: #666;
            flex-grow: 1;
            text-align: center;
        }
        .ai-tab.active { background: var(--accent); color: white; border-color: var(--accent); }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: #fcfcfc;
        }

        .message {
            max-width: 95%;
            padding: 12px 16px;
            border-radius: 12px;
            line-height: 1.6;
            font-size: 0.95rem;
            position: relative;
            word-wrap: break-word;
        }
        
        .msg-ai {
            align-self: flex-start;
            background: var(--chat-ai);
            border: 1px solid #eee;
            border-bottom-left-radius: 2px;
        }
        
        .msg-user {
            align-self: flex-end;
            background: var(--chat-user);
            color: #1565c0;
            border-bottom-right-radius: 2px;
        }

        .chat-input-area {
            padding: 15px;
            background: white;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
        }
        
        .btn-send {
            padding: 0 20px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            white-space: nowrap;
        }

        .action-btns {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        .btn-action {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            color: #666;
            font-size: 0.9rem;
        }

        .markdown-body h1, .markdown-body h2 { font-size: 1.2em; margin-top: 1em; }
        .markdown-body p { margin-bottom: 0.8em; }
        .markdown-body ul { padding-left: 20px; }

        .cursor::after {
            content: 'â–‹';
            display: inline-block;
            animation: blink 1s infinite;
            color: var(--accent);
            margin-left: 2px;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        @media (max-width: 900px) {
            body { 
                height: auto; 
                overflow-y: auto; 
                overflow-x: hidden;
            }
            .app-container {
                height: auto;
                min-height: 100vh;
            }
            .page {
                padding: 15px;
                height: auto;
                overflow: visible;
            }
            .home-content {
                padding: 30px 20px;
                margin-top: 20px;
            }
            .mode-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .quiz-container {
                padding: 20px;
                min-height: auto;
            }
            .question-text {
                font-size: 1.2rem;
                margin: 20px 0;
                min-height: 100px;
            }
            .options-row {
                flex-direction: column;
                gap: 12px;
            }
            .opt-btn {
                padding: 12px;
                width: 100%;
                text-align: center;
                font-size: 1rem;
            }
            .result-layout {
                flex-direction: column;
                padding: 0 10px 20px 10px;
                height: auto;
            }
            .left-panel {
                width: 100%;
                height: auto;
                margin-bottom: 20px;
                padding: 20px;
            }
            .right-panel {
                width: 100%;
                height: 600px;
                flex: none;
            }
            .chart-label-container:hover::after {
                left: 0;
                top: 100%;
                transform: translateY(5px);
                margin-left: 0;
                width: 200px;
                z-index: 999;
            }
            .chart-label-container:hover::before {
                display: none;
            }
            .type-badge { font-size: 2.8rem; }
            .chat-header span { width: 100%; margin-bottom: 5px; }
        }
    </style>
</head>
<body>

<div class="app-container">
    
    <!-- 1. é¦–é¡µ -->
    <div id="page-home" class="page active">
        <div class="home-content">
            <h1 style="margin-bottom: 10px; font-size: 1.8rem;">è£æ ¼å…«ç»´å…¨æ¯æµ‹è¯„</h1>
            <div style="color: #7f8c8d; font-size: 1rem;">åŸºäºè®¤çŸ¥åŠŸèƒ½åŠ¨åŠ›å­¦çš„æ·±åº¦äººæ ¼è§£æ</div>
            
            <div class="mode-grid">
                <div class="mode-card" onclick="selectMode(32, this)">
                    <h3>32é¢˜</h3><p>å¿«é€Ÿæ¦‚è§ˆ</p>
                </div>
                <div class="mode-card" onclick="selectMode(64, this)">
                    <h3>64é¢˜</h3><p>æ ‡å‡†æµ‹è¯•</p>
                </div>
                <div class="mode-card selected" onclick="selectMode(96, this)">
                    <h3>96é¢˜</h3><p>æ·±åº¦åˆ†æ</p>
                </div>
                <div class="mode-card" onclick="selectMode(144, this)">
                    <h3>144é¢˜</h3><p>ä¸“ä¸šå‰–æ</p>
                </div>
                <div class="mode-card" onclick="selectMode(256, this)">
                    <h3>256é¢˜</h3><p>å…¨æ¯æ‰«æ</p>
                </div>
            </div>

            <button class="btn-start" onclick="startQuiz()">å¼€å§‹æ¢ç´¢</button>
            <br>
            <button class="btn-import" onclick="document.getElementById('file-input').click()">ğŸ“‚ å¯¼å…¥å†å²ç»“æœ</button>
            <input type="file" id="file-input" style="display: none;" accept=".json" onchange="importData(this)">
        </div>
    </div>

    <!-- 2. ç­”é¢˜é¡µ -->
    <div id="page-quiz" class="page">
        <div class="quiz-container">
            <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
            <div style="display:flex; justify-content:space-between; color:#999; font-size:0.9rem; margin-bottom: 10px;">
                <span>è¿›åº¦: <span id="curr-idx">1</span> / <span id="total-count">96</span></span>
                <button onclick="undo()" id="btn-undo" style="background:none; border:none; color:#999; cursor:pointer; text-decoration:underline; padding: 0;" disabled>â†© æ’¤å›</button>
            </div>

            <div class="question-text" id="q-text">åŠ è½½ä¸­...</div>

            <div class="options-row">
                <button class="opt-btn opt-1" onclick="handleAnswer(1)">å®Œå…¨ä¸ç¬¦</button>
                <button class="opt-btn opt-2" onclick="handleAnswer(2)">ä¸å¤ªç¬¦åˆ</button>
                <button class="opt-btn opt-3" onclick="handleAnswer(3)">ä¸­ç«‹/ä¸ç¡®å®š</button>
                <button class="opt-btn opt-4" onclick="handleAnswer(4)">æ¯”è¾ƒç¬¦åˆ</button>
                <button class="opt-btn opt-5" onclick="handleAnswer(5)">å®Œå…¨ç¬¦åˆ</button>
            </div>
        </div>
    </div>

    <!-- 3. ç»“æœé¡µ -->
    <div id="page-result" class="page" style="padding: 0; background: #eef2f5;">
        <div class="result-layout">
            <!-- å·¦ä¾§ï¼šæ•°æ®ç»Ÿè®¡ -->
            <div class="left-panel">
                <h3 style="text-align:center; margin-top:0; color:#666;">æ‚¨çš„æ ¸å¿ƒäººæ ¼</h3>
                <div class="type-badge" id="res-type">INTJ</div>
                
                <div style="margin-top: 20px;">
                    <h4 style="border-bottom: 2px solid #eee; padding-bottom: 10px;">å…«ç»´åŠŸèƒ½å¼ºåº¦</h4>
                    <div style="font-size: 0.8rem; color: #999; margin-bottom: 10px;">* ç‚¹å‡»/æ‚¬åœæ ‡ç­¾æŸ¥çœ‹å«ä¹‰</div>
                    <div id="chart-container"></div>
                </div>

                <div style="margin-top: 30px;">
                    <h4 style="border-bottom: 2px solid #eee; padding-bottom: 10px;">åŸå‹åŒ¹é…åº¦ (Top 5)</h4>
                    <div id="match-container" style="font-size:0.9rem;"></div>
                </div>
                
                <div class="action-btns">
                    <button class="btn-action" onclick="exportData()">ğŸ’¾ ä¿å­˜</button>
                    <button class="btn-action" onclick="location.reload()">ğŸ”„ é‡æµ‹</button>
                </div>
            </div>

            <!-- å³ä¾§ï¼šAI äº¤äº’é¢æ¿ -->
            <div class="right-panel">
                <div class="chat-header">
                    <span style="font-weight: bold;">AI æ·±åº¦å’¨è¯¢:</span>
                    <div style="display:flex; gap:5px; width:100%;">
                        <button class="ai-tab active" onclick="switchAiTab('general')">ğŸ§  è§£æ</button>
                        <button class="ai-tab" onclick="switchAiTab('career')">ğŸ’¼ èŒä¸š</button>
                        <button class="ai-tab" onclick="switchAiTab('love')">â¤ï¸ æƒ…æ„Ÿ</button>
                    </div>
                </div>
                
                <div class="chat-messages" id="chat-box">
                    <!-- æ¶ˆæ¯æµ -->
                </div>

                <div class="chat-input-area">
                    <input type="text" class="chat-input" id="user-input" placeholder="è¾“å…¥é—®é¢˜..." onkeypress="if(event.keyCode==13) sendMessage()">
                    <button class="btn-send" onclick="sendMessage()">å‘é€</button>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
    // --- 0. åŸºç¡€é…ç½®ä¸æ•°æ® ---
    // æ³¨æ„ï¼šAPI_KEY å·²ç§»é™¤ï¼Œç°åœ¨é€šè¿‡åç«¯ /api/chat ä»£ç†è¯·æ±‚
    
    if (typeof marked !== 'undefined') {
        marked.setOptions({
            breaks: true, 
            gfm: true     
        });
    }
    
    const funcDefinitions = {
        "Te": "å¤–å€¾æ€è€ƒï¼šå…³æ³¨æ•ˆç‡ã€èµ„æºè°ƒåº¦ã€å¤–éƒ¨ç§©åºã€ç»“æœå¯¼å‘ã€‚",
        "Ti": "å†…å€¾æ€è€ƒï¼šå…³æ³¨é€»è¾‘è‡ªæ´½ã€åŸç†è§£æ„ã€ç²¾ç¡®å®šä¹‰ã€ç‹¬ç«‹æ€è€ƒã€‚",
        "Fe": "å¤–å€¾æƒ…æ„Ÿï¼šå…³æ³¨äººé™…å’Œè°ã€ç¤¾ä¼šè§„èŒƒã€æƒ…ç»ªå…±é¸£ã€ç¾¤ä½“ä»·å€¼ã€‚",
        "Fi": "å†…å€¾æƒ…æ„Ÿï¼šå…³æ³¨æ ¸å¿ƒä»·å€¼ã€çœŸè¯šä½“éªŒã€ä¸ªä½“ç‹¬ç‰¹æ€§ã€å†…å¿ƒè¯„åˆ¤ã€‚",
        "Se": "å¤–å€¾æ„Ÿè§‰ï¼šå…³æ³¨å½“ä¸‹ä½“éªŒã€æ„Ÿå®˜åˆºæ¿€ã€ç‰©ç†äº’åŠ¨ã€å³å…´ååº”ã€‚",
        "Si": "å†…å€¾æ„Ÿè§‰ï¼šå…³æ³¨è¿‡å¾€ç»éªŒã€ç»†èŠ‚è®°å¿†ã€èº«ä½“ç¨³æ€ã€ç¨‹åºè§„èŒƒã€‚",
        "Ne": "å¤–å€¾ç›´è§‰ï¼šå…³æ³¨å¯èƒ½æ€§ã€å‘æ•£æ€ç»´ã€æ¦‚å¿µå…³è”ã€å¤´è„‘é£æš´ã€‚",
        "Ni": "å†…å€¾ç›´è§‰ï¼šå…³æ³¨æœ¬è´¨è§„å¾‹ã€æœªæ¥è¶‹åŠ¿ã€å®è§‚æ„¿æ™¯ã€ç›´è§‰æ´å¯Ÿã€‚"
    };

    // é¢˜åº“ (256é¢˜)
    const rawText = `
1. æˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªåœ¨æ··ä¹±å±€é¢ä¸­èƒ½è¿…é€Ÿå»ºç«‹æŒ‡æŒ¥é“¾æ¡çš„äººã€‚
2. æˆ‘ä¹ æƒ¯é€šè¿‡å¯è§†åŒ–çš„å›¾è¡¨ã€æ•°æ®æˆ–KPIæ¥è¡¡é‡è‡ªå·±ä¸€å¤©çš„æˆå°±æ„Ÿã€‚
3. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªâ€œç»ˆç»“è€…â€ï¼Œæ¯”èµ·å¼€å¯æ–°é¡¹ç›®ï¼Œæˆ‘æ›´æ“…é•¿æ¨è¿›é¡¹ç›®ç›´åˆ°å®Œå·¥ã€‚
4. æˆ‘è®¤ä¸ºå®¢è§‚çš„è§„åˆ™å’Œæ ‡å‡†æ¯”ä¸ªäººçš„ç‰¹æ®Šæƒ…å†µæ›´é‡è¦ï¼Œå› ä¸ºè¿™æ ·æ‰å…¬å¹³ã€‚
5. æˆ‘è§‰å¾—è‡ªå·±å¯¹ä»–äººçš„æ— èƒ½æˆ–ä½æ•ˆç‡å®¹å¿åº¦å¾ˆä½ï¼Œå®¹æ˜“å› æ­¤æ„Ÿåˆ°çƒ¦èºã€‚
6. æˆ‘å€¾å‘äºç›´æ¥æŒ‡å‡ºé—®é¢˜æ‰€åœ¨ï¼Œè€Œä¸æ˜¯ä¸ºäº†ç…§é¡¾é¢å­è€Œå§”å©‰è¡¨è¾¾ã€‚
7. æˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªæå…¶é‡è§†æ—¶é—´è¡¨çš„äººï¼Œå»¶æœŸå¯¹æˆ‘æ¥è¯´æ˜¯ä¸¥é‡çš„å¤±è¯¯ã€‚
8. æˆ‘è§‰å¾—è‡ªå·±é€šè¿‡æŒæ§å¤–éƒ¨ç¯å¢ƒï¼ˆå¦‚æ•´ç†æˆ¿é—´ã€ç®¡ç†å›¢é˜Ÿï¼‰æ¥è·å¾—å®‰å…¨æ„Ÿã€‚
9. æœ‹å‹æˆ–åŒäº‹ç»å¸¸è¯„ä»·æˆ‘è¯´è¯â€œä¸€é’ˆè§è¡€â€ï¼Œæœ‰æ—¶ç”šè‡³æ˜¾å¾—æœ‰ç‚¹ä¸è¿‘äººæƒ…ã€‚
10. åˆ«äººå¸¸è¯´åœ¨åšå†³å®šæ—¶ï¼Œæˆ‘æ˜¾å¾—éå¸¸æœæ–­ï¼Œå‡ ä¹ä¸å¸¦çŠ¹è±«ã€‚
11. åœ¨å›¢é˜Ÿåˆä½œä¸­ï¼Œå¤§å®¶å€¾å‘äºæ¨ä¸¾æˆ‘æ¥åˆ†é…ä»»åŠ¡å’Œç›‘ç£è¿›åº¦ã€‚
12. åˆ«äººç»å¸¸å‘æˆ‘å’¨è¯¢å¦‚ä½•ä¼˜åŒ–æµç¨‹æˆ–æé«˜åŠäº‹æ•ˆç‡çš„å»ºè®®ã€‚
13. äº²è¿‘çš„äººæœ‰æ—¶ä¼šæŠ±æ€¨æˆ‘è¿‡äºå…³æ³¨äº‹æƒ…çš„â€œå¯¹é”™â€è€Œå¿½ç•¥äº†ä»–ä»¬çš„å¿ƒæƒ…ã€‚
14. åˆ«äººè®¤ä¸ºæˆ‘æ˜¯ä¸€ä¸ªéå¸¸æœ‰é‡å¿ƒä¸”ç›®æ ‡æ˜ç¡®çš„äººã€‚
15. åŒäº‹ä»¬è§‰å¾—æˆ‘æ˜¯ä¸€ä¸ªéå¸¸çœ‹é‡å±‚çº§ç§©åºå’Œæ‰§è¡ŒåŠ›çš„äººã€‚
16. åˆ«äººå¸¸è¯´æˆ‘çœ‹èµ·æ¥å¾ˆå¿™ç¢Œï¼Œæ€»æ˜¯å¤„äºä¸€ç§â€œæ­£åœ¨è§£å†³é—®é¢˜â€çš„çŠ¶æ€ã€‚
17. ç›¸æ¯”äºæ¢ç´¢ä¸€ä¸ªç†è®ºçš„æ·±å±‚å«ä¹‰ï¼Œæˆ‘æ›´å–œæ¬¢éªŒè¯å®ƒåœ¨ç°å®ä¸­æ˜¯å¦ç®¡ç”¨ã€‚
18. æˆ‘æ›´å–œæ¬¢ä¸é‚£äº›è¯´è¯ç®€ç»ƒã€ç›´å¥”ä¸»é¢˜çš„äººäº¤æµï¼Œè€Œä¸æ˜¯é“ºå«å¾ˆå¤šçš„äººã€‚
19. æˆ‘æ›´çœ‹é‡ä¸€ä¸ªäººçš„å®é™…äº§å‡ºå’Œä¸šç»©ï¼Œè€Œä¸æ˜¯ä»–çš„åŠªåŠ›ç¨‹åº¦æˆ–åˆè¡·ã€‚
20. æˆ‘å–œæ¬¢åˆ¶å®šè¯¦ç»†çš„å¾…åŠäº‹é¡¹æ¸…å•ï¼ˆTo-Do Listï¼‰ï¼Œå¹¶äº«å—åˆ’æ‰å®ƒä»¬çš„å¿«æ„Ÿã€‚
21. ç›¸æ¯”äºâ€œå’Œè°ä½†ä½æ•ˆâ€çš„å›¢é˜Ÿæ°›å›´ï¼Œæˆ‘æ›´åå‘â€œç´§å¼ ä½†é«˜æ•ˆâ€çš„å·¥ä½œç¯å¢ƒã€‚
22. æˆ‘æ›´å–œæ¬¢é˜…è¯»éè™šæ„ç±»çš„ã€èƒ½æä¾›å…·ä½“æ–¹æ³•è®ºçš„ä¹¦ç±ï¼Œè€Œä¸æ˜¯çº¯æ–‡å­¦ã€‚
23. æˆ‘è®¨åŒæ¨¡æ£±ä¸¤å¯çš„æŒ‡ä»¤ï¼Œæˆ‘å–œæ¬¢æ¸…æ™°æ˜ç¡®çš„æ­¥éª¤å’Œæˆªæ­¢æ—¥æœŸã€‚
24. æˆ‘æ›´å€¾å‘äºæŒæ§èµ„æºå’Œå±€é¢ï¼Œè€Œä¸æ˜¯ä½œä¸ºä¸€ä¸ªé…åˆè€…ã€‚
25. å½“å›¢é˜Ÿè®¨è®ºé™·å…¥æ— ä¼‘æ­¢çš„äº‰è®ºæ—¶ï¼Œæˆ‘ä¼šæ‰“æ–­å¤§å®¶å¹¶å¼ºåˆ¶åšå‡ºä¸€ä¸ªå†³å®šã€‚
26. å¦‚æœå‘ç°è´­ä¹°çš„å•†å“æœ‰è´¨é‡é—®é¢˜ï¼Œæˆ‘ä¼šç«‹å³æŸ¥æ‰¾é€€æ¢è´§æ”¿ç­–å¹¶åšå†³ç»´æƒã€‚
27. åœ¨åˆ¶å®šæ—…è¡Œè®¡åˆ’æ—¶ï¼Œæˆ‘ä¼šç²¾ç¡®åˆ°æ¯ä¸ªæ—¶é—´æ®µçš„äº¤é€šè¡”æ¥å’Œé¢„ç®—æ§åˆ¶ã€‚
28. å½“é¢å¯¹ä¸€ä¸ªå¤æ‚çš„ä»»åŠ¡æ—¶ï¼Œæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯æŠŠå®ƒæ‹†è§£æˆå¯æ‰§è¡Œçš„æ­¥éª¤åˆ†é…ä¸‹å»ã€‚
29. å¦‚æœå¿…é¡»è£å‘˜ä»¥ä¿å…¨å…¬å¸ï¼Œæˆ‘ä¼šä¾æ®ç»©æ•ˆæ•°æ®æ‰§è¡Œï¼Œå°½é‡ä¸æºæ‚ä¸ªäººæƒ…æ„Ÿã€‚
30. çœ‹åˆ°æœ‰äººè¿åæ˜ç¡®çš„è§„å®šï¼ˆå¦‚æ’é˜Ÿï¼‰ï¼Œæˆ‘ä¼šå€¾å‘äºå‡ºé¢åˆ¶æ­¢æˆ–è¦æ±‚ç®¡ç†è€…ä»‹å…¥ã€‚
31. åœ¨ç©ç­–ç•¥æ¸¸æˆæ—¶ï¼Œæˆ‘å€¾å‘äºé€šè¿‡èµ„æºç¢¾å‹æˆ–å¿«é€Ÿæ‰©å¼ æ¥è·èƒœã€‚
32. å½“æˆ‘å‘ç°ç°æœ‰çš„å·¥ä½œæµç¨‹ç¹çæ—¶ï¼Œæˆ‘ä¼šç«‹åˆ»ç€æ‰‹è®¾è®¡ä¸€å¥—æ–°æµç¨‹æ¥æ›¿ä»£å®ƒã€‚
33. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªå¿…é¡»æŠŠäº‹æƒ…çš„åº•å±‚åŸç†å½»åº•ææ‡‚æ‰èƒ½å®‰å¿ƒçš„äººã€‚
34. æˆ‘è®¤ä¸ºé€»è¾‘çš„ä¸€è‡´æ€§æ¯”è¾¾æˆå¤–éƒ¨ç›®æ ‡æ›´é‡è¦ï¼Œå“ªæ€•è¿™ä¼šæ‹–æ…¢è¿›åº¦ã€‚
35. æˆ‘ç»å¸¸åœ¨è„‘æµ·ä¸­å¯¹è‡ªå·±ä½¿ç”¨çš„è¯æ±‡è¿›è¡Œé‡æ–°å®šä¹‰ï¼Œä»¥ç¡®ä¿ç²¾ç¡®æ— è¯¯ã€‚
36. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è§‚å¯Ÿè€…ï¼Œä¹ æƒ¯ä¸ä¸–ç•Œä¿æŒè·ç¦»æ¥å†·é™åˆ†æã€‚
37. æˆ‘è®¤ä¸ºçœŸç†æ˜¯ç‹¬ç«‹çš„ï¼Œä¸åº”è¯¥å—åˆ°æƒå¨æˆ–å¤§å¤šæ•°äººæ„è§çš„å·¦å³ã€‚
38. æˆ‘è§‰å¾—è‡ªå·±æ“…é•¿å‘ç°åˆ«äººè®ºç‚¹ä¸­çš„é€»è¾‘æ¼æ´ï¼Œå¹¶å¿ä¸ä½æƒ³æŒ‡å‡ºæ¥ã€‚
39. æˆ‘ç»å¸¸é™·å…¥é•¿æ—¶é—´çš„æ²‰æ€ï¼Œæ„å»ºå¤æ‚çš„æ€ç»´æ¨¡å‹ï¼Œè€Œä¸åœ¨ä¹æ˜¯å¦å®ç”¨ã€‚
40. æˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªâ€œæç®€ä¸»ä¹‰è€…â€ï¼Œå€¾å‘äºç”¨æœ€å°‘çš„åŸåˆ™è§£é‡Šæœ€å¤šçš„ç°è±¡ã€‚
41. åˆ«äººå¸¸è¯´æˆ‘å–œæ¬¢â€œé’»ç‰›è§’å°–â€æˆ–åœ¨æ— å…³ç´§è¦çš„ç»†èŠ‚ä¸Šäº‰è®ºä¸ä¼‘ã€‚
42. æœ‹å‹ä»¬è§‰å¾—æˆ‘å¾ˆéš¾è¢«è¯´æœï¼Œé™¤éä»–ä»¬èƒ½æ‹¿å‡ºæ— æ‡ˆå¯å‡»çš„é€»è¾‘è¯æ®ã€‚
43. åˆ«äººç»å¸¸è¯„ä»·æˆ‘çœ‹èµ·æ¥å¾ˆå†·æ·¡ï¼Œå¥½åƒæ€»æ˜¯æ´»åœ¨è‡ªå·±çš„å¤´è„‘é‡Œã€‚
44. å¤§å®¶è®¤ä¸ºæˆ‘æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ•…éšœæ’é™¤è€…ï¼Œæ€»èƒ½æ‰¾åˆ°ç³»ç»Ÿå´©æºƒçš„æ ¹æœ¬åŸå› ã€‚
45. åˆ«äººå¸¸è¯´æˆ‘è§£é‡Šé—®é¢˜æ—¶è¿‡äºå¤æ‚ï¼Œä½¿ç”¨äº†å¤ªå¤šä¸“ä¸šæœ¯è¯­æˆ–æŠ½è±¡æ¦‚å¿µã€‚
46. äº²è¿‘çš„äººè§‰å¾—æˆ‘å¯¹ä»–äººçš„æƒ…æ„Ÿéœ€æ±‚ååº”è¿Ÿé’ï¼Œæ€»æ˜¯è¯•å›¾ç”¨é€»è¾‘è§£å†³æƒ…ç»ªé—®é¢˜ã€‚
47. åŒäº‹ä»¬è®¤ä¸ºæˆ‘é€‚åˆåšç ”å‘æˆ–åˆ†æå·¥ä½œï¼Œè€Œä¸æ˜¯ç®¡ç†æˆ–é”€å”®ã€‚
48. åˆ«äººå¸¸æƒŠè®¶äºæˆ‘èƒ½åœ¨æ··ä¹±çš„ä¿¡æ¯ä¸­æ¢³ç†å‡ºä¸€æ¡æ¸…æ™°çš„é€»è¾‘çº¿ç´¢ã€‚
49. æˆ‘æ›´å–œæ¬¢â€œä¸ºäº†çŸ¥è¯†è€ŒçŸ¥è¯†â€ï¼Œè€Œä¸æ˜¯ä¸ºäº†åº”ç”¨è€Œå­¦ä¹ ã€‚
50. ç›¸æ¯”äºéµå¾ªæ—¢å®šçš„æ“ä½œæ‰‹å†Œï¼Œæˆ‘æ›´å–œæ¬¢è‡ªå·±æ‘¸ç´¢å‡ºä¸€å¥—ç‹¬ç‰¹çš„æ–¹æ³•ã€‚
51. æˆ‘è®¨åŒè¢«å¼ºåŠ çš„è§„åˆ™ï¼Œé™¤éè¿™äº›è§„åˆ™åœ¨é€»è¾‘ä¸Šèƒ½è¯´æœæˆ‘ã€‚
52. æˆ‘æ›´å–œæ¬¢ç‹¬è‡ªè§£å†³å¤æ‚çš„æ™ºåŠ›è°œé¢˜ï¼Œè€Œä¸æ˜¯åœ¨å›¢é˜Ÿä¸­é€šè¿‡å¤´è„‘é£æš´è§£å†³ã€‚
53. æˆ‘å€¾å‘äºä¿ç•™åˆ¤æ–­ï¼Œç›´åˆ°æˆ‘æ”¶é›†äº†è¶³å¤Ÿçš„ä¿¡æ¯å¹¶å®Œæˆäº†å†…éƒ¨æ¨å¯¼ã€‚
54. æˆ‘æ›´çœ‹é‡æ€ç»´çš„å‡†ç¡®æ€§å’Œä¸¥å¯†æ€§ï¼Œè€Œä¸æ˜¯è¯´è¯çš„é€Ÿåº¦æˆ–æ„ŸæŸ“åŠ›ã€‚
55. æˆ‘å–œæ¬¢æ‹†è§£æœºæ¢°è£…ç½®æˆ–è½¯ä»¶ä»£ç ï¼Œçœ‹çœ‹å®ƒä»¬å†…éƒ¨æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚
56. ç›¸æ¯”äºè·å¾—ä»–äººçš„èµèµï¼Œæˆ‘æ›´åœ¨ä¹è‡ªå·±çš„ç†è®ºæ¨¡å‹æ˜¯å¦å®Œç¾è‡ªæ´½ã€‚
57. å½“åˆ«äººåœ¨è°ˆè®ºä¸€ä¸ªæˆ‘ä¸è®¤åŒçš„è§‚ç‚¹æ—¶ï¼Œæˆ‘ä¼šå…ˆåœ¨å¿ƒé‡Œé»˜é»˜åé©³ä»–çš„é€»è¾‘è°¬è¯¯ã€‚
58. å¦‚æœè€å¸ˆæˆ–ä¸Šå¸è¯´äº†ä¸€ä¸ªé”™è¯¯çš„ç»“è®ºï¼Œæˆ‘ä¼šå€¾å‘äºå½“åœºæˆ–äº‹åçº æ­£ä»–ã€‚
59. åœ¨è´­ä¹°ç”µå­äº§å“æ—¶ï¼Œæˆ‘ä¼šèŠ±å¤§é‡æ—¶é—´ç ”ç©¶å‚æ•°å¯¹æ¯”ï¼Œè€Œä¸æ˜¯å¬å¯¼è´­æ¨èã€‚
60. å½“é¢å¯¹ä¸€ä¸ªæƒ…ç»ªå´©æºƒçš„æœ‹å‹ï¼Œæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯åˆ†æä»–ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œå¹¶æä¾›è§£å†³æ–¹æ¡ˆã€‚
61. å¦‚æœä¸€é¡¹ä»»åŠ¡æ²¡æœ‰åˆç†çš„é€»è¾‘ç†ç”±ï¼Œå³ä½¿æœ‰æŠ¥é…¬ï¼Œæˆ‘ä¹Ÿå¾ˆéš¾å¼ºè¿«è‡ªå·±å»æ‰§è¡Œã€‚
62. åœ¨è¾©è®ºä¸­ï¼Œå¦‚æœå‘ç°è‡ªå·±ä¹‹å‰çš„è§‚ç‚¹æœ‰é€»è¾‘æ¼æ´ï¼Œæˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°æ¨ç¿»è‡ªå·±ã€‚
63. å½“éœ€è¦å­¦ä¹ æ–°æŠ€èƒ½æ—¶ï¼Œæˆ‘ä¼šå…ˆæ‰¾åŸç†ä¹¦çœ‹ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸Šæ‰‹æ“ä½œã€‚
64. é¢å¯¹ç¤¾ä¼šçƒ­ç‚¹æ–°é—»ï¼Œæˆ‘å€¾å‘äºåˆ†æå„æ–¹åˆ©ç›Šé“¾æ¡å’Œé€»è¾‘å…³ç³»ï¼Œè€Œä¸æ˜¯ç«™é˜Ÿè¡¨æ€ã€‚
65. æˆ‘è§‰å¾—è‡ªå·±åƒä¸€ä¸ªâ€œæƒ…ç»ªæ¸©åº¦è®¡â€ï¼Œèƒ½ç¬é—´æ„ŸçŸ¥åˆ°æˆ¿é—´é‡Œæ°”æ°›çš„å˜åŒ–ã€‚
66. æˆ‘è®¤ä¸ºç»´æŠ¤ç¾¤ä½“çš„å’Œè°ä¸å›¢ç»“æ¯”åšæŒæˆ‘ä¸ªäººçš„æ­£ç¡®æ›´é‡è¦ã€‚
67. æˆ‘è§‰å¾—è‡ªå·±æœ‰è´£ä»»ç…§é¡¾æ¯ä¸ªäººçš„æ„Ÿå—ï¼Œç¡®ä¿æ²¡æœ‰äººæ„Ÿåˆ°è¢«å†·è½ã€‚
68. æˆ‘å€¾å‘äºæ ¹æ®äº¤è°ˆå¯¹è±¡çš„ä¸åŒï¼Œè‡ªç„¶åœ°è°ƒæ•´è‡ªå·±çš„è¯­æ°”å’Œä¸¾æ­¢ã€‚
69. æˆ‘è®¤ä¸ºç¤¼è²Œã€å¾—ä½“å’Œéµå®ˆç¤¾ä¼šè§„èŒƒæ˜¯äººé™…äº¤å¾€çš„åŸºçŸ³ã€‚
70. æˆ‘è§‰å¾—è‡ªå·±å¾ˆå®¹æ˜“è¢«ä»–äººçš„æƒ…ç»ªæ„ŸæŸ“ï¼Œçœ‹åˆ°åˆ«äººå“­æˆ‘ä¹Ÿæƒ³å“­ã€‚
71. æˆ‘ç»å¸¸ä¸ºäº†ä¸è®©åˆ«äººå¤±æœ›è€Œç­”åº”ä¸€äº›æˆ‘å…¶å®ä¸æƒ³åšçš„äº‹æƒ…ã€‚
72. æˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å€¾å¬è€…å’Œè°ƒè§£è€…ï¼Œæ“…é•¿åŒ–è§£äººé™…å†²çªã€‚
73. æœ‹å‹ä»¬å¸¸è¯´æˆ‘æ˜¯å›¢é˜Ÿçš„â€œç²˜åˆå‰‚â€ï¼Œæœ‰æˆ‘åœ¨å¤§å®¶å°±ä¼šå¾ˆå¼€å¿ƒã€‚
74. åˆ«äººç»å¸¸è¯„ä»·æˆ‘éå¸¸è´´å¿ƒã€æ¸©æš–ï¼Œæ€»æ˜¯èƒ½ç…§é¡¾åˆ°ç»†èŠ‚ã€‚
75. æœ‰äººå¯èƒ½ä¼šè§‰å¾—æˆ‘æœ‰ç‚¹â€œè€å¥½äººâ€ï¼Œç¼ºä¹æ˜ç¡®çš„ä¸ªäººç•Œé™ã€‚
76. å¤§å®¶å€¾å‘äºå‘æˆ‘å€¾è¯‰çƒ¦æ¼ï¼Œå› ä¸ºè§‰å¾—æˆ‘ä¼šç»™äºˆæƒ…æ„Ÿä¸Šçš„æ”¯æŒã€‚
77. åˆ«äººå¸¸è¯´æˆ‘éå¸¸æ“…é•¿ç¤¾äº¤è¾ä»¤ï¼Œèƒ½è®©å°´å°¬çš„åœºé¢å˜å¾—é¡ºæ»‘ã€‚
78. äº²è¿‘çš„äººæœ‰æ—¶è§‰å¾—æˆ‘è¿‡äºåœ¨æ„åˆ«äººçš„çœ‹æ³•ï¼Œæ´»å¾—æœ‰ç‚¹ç´¯ã€‚
79. åŒäº‹ä»¬è®¤ä¸ºæˆ‘éå¸¸é€‚åˆåšå…¬å…³ã€HRæˆ–æ•™è‚²ç±»çš„å·¥ä½œã€‚
80. åˆ«äººå¸¸æƒŠè®¶äºæˆ‘èƒ½è®°å¾—ä»–ä»¬çš„ç”Ÿæ—¥ã€å–œå¥½ç­‰å¾®å°çš„ä¸ªäººä¿¡æ¯ã€‚
81. æˆ‘æ›´å–œæ¬¢å¤§å®¶ä¸€èµ·å¼€å¿ƒåˆä½œçš„æ°›å›´ï¼Œè€Œä¸æ˜¯é€šè¿‡æ®‹é…·ç«äº‰åˆ†å‡ºèƒœè´Ÿã€‚
82. æˆ‘å€¾å‘äºå…¬å¼€è¡¨è¾¾æˆ‘çš„æ„Ÿæ¿€å’Œèµèµï¼Œä¹Ÿå¸Œæœ›å¾—åˆ°åŒæ ·çš„åé¦ˆã€‚
83. æˆ‘æ›´çœ‹é‡äººé™…å…³ç³»çš„äº²å¯†åº¦å’Œä¿¡ä»»æ„Ÿï¼Œè€Œä¸æ˜¯çº¯ç²¹çš„åˆ©ç›Šäº¤æ¢ã€‚
84. æˆ‘å–œæ¬¢ç»„ç»‡èšä¼šæˆ–æ´»åŠ¨ï¼Œçœ‹åˆ°å¤§å®¶äº«å—å…¶ä¸­æˆ‘ä¼šéå¸¸æœ‰æˆå°±æ„Ÿã€‚
85. ç›¸æ¯”äºç‹¬è‡ªåšå†³å®šï¼Œæˆ‘æ›´å€¾å‘äºå¾æ±‚å¤§å®¶çš„æ„è§ï¼Œè¾¾æˆå…±è¯†ã€‚
86. æˆ‘è®¨åŒå†²çªå’Œäº‰åµï¼Œæˆ‘ä¼šå°½ä¸€åˆ‡åŠªåŠ›å»å¹³æ¯äº‹æ€ã€‚
87. æˆ‘æ›´å–œæ¬¢éµå¾ªä¸»æµçš„ä»·å€¼è§‚å’Œé“å¾·æ ‡å‡†ï¼Œè€Œä¸æ˜¯ç‰¹ç«‹ç‹¬è¡Œã€‚
88. æˆ‘å€¾å‘äºé€šè¿‡å¸®åŠ©ä»–äººæ¥å®ç°è‡ªæˆ‘ä»·å€¼ï¼Œè€Œä¸æ˜¯ç‹¬è‡ªå–å¾—æˆå°±ã€‚
89. åœ¨èšé¤æ—¶ï¼Œå¦‚æœæœ‰äººç‚¹çš„èœè¿˜æ²¡ä¸Šï¼Œæˆ‘ä¼šä¸»åŠ¨å‚¬ä¿ƒæœåŠ¡å‘˜å¹¶å®‰æŠšé‚£ä¸ªäººçš„æƒ…ç»ªã€‚
90. å½“æœ‹å‹é€äº†æˆ‘ä¸€ä¸ªæˆ‘ä¸å–œæ¬¢çš„ç¤¼ç‰©æ—¶ï¼Œæˆ‘ä¼šè¡¨ç°å¾—éå¸¸å¼€å¿ƒä»¥é¿å…ä¼¤å®³ä»–ã€‚
91. å¦‚æœå›¢é˜Ÿä¸­æœ‰äººå› ä¸ºå¤±è¯¯è¢«è´£éª‚ï¼Œæˆ‘ä¼šç§ä¸‹é‡Œå»å®‰æ…°ä»–å¹¶å¸®ä»–åˆ†æ‹…ã€‚
92. åœ¨åšå†³å®šæ—¶ï¼Œæˆ‘ä¼šé¦–å…ˆè€ƒè™‘â€œè¿™å¯¹å…¶ä»–äººä¼šæœ‰ä»€ä¹ˆå½±å“â€ï¼Œè€Œä¸æ˜¯â€œæˆ‘æƒ³æ€ä¹ˆåšâ€ã€‚
93. çœ‹åˆ°æœ‰äººåœ¨ç¤¾äº¤åœºåˆè¢«å­¤ç«‹ï¼Œæˆ‘ä¼šä¸»åŠ¨èµ°è¿‡å»å’Œä»–æ­è¯ã€‚
94. å¦‚æœæˆ‘å’Œæœ‹å‹å‘ç”ŸçŸ›ç›¾ï¼Œæˆ‘ä¼šä¸»åŠ¨é“æ­‰æˆ–ç¤ºå¥½ï¼Œå› ä¸ºæˆ‘å—ä¸äº†å†·æˆ˜çš„æ°›å›´ã€‚
95. åœ¨è§‚çœ‹æ„Ÿäººçš„ç”µå½±æˆ–æ–°é—»æ—¶ï¼Œæˆ‘é€šå¸¸ä¼šæ¯«ä¸æ©é¥°åœ°æµéœ²æƒ…æ„Ÿã€‚
96. å½“é¢å¯¹é“å¾·å›°å¢ƒæ—¶ï¼Œæˆ‘ä¼šå‚è€ƒç¤¾ä¼šæ™®éçš„çœ‹æ³•æˆ–èº«è¾¹äººçš„å»ºè®®æ¥åšåˆ¤æ–­ã€‚
97. æˆ‘è§‰å¾—è‡ªå·±å†…å¿ƒæ·±å¤„æœ‰ä¸€å¥—ä¸å¯åŠ¨æ‘‡çš„ä»·å€¼è§‚ï¼Œå³ä½¿ä¸ä¸–ç•Œä¸ºæ•Œä¹Ÿè¦åšå®ˆã€‚
98. æˆ‘è®¤ä¸ºâ€œå¿ äºè‡ªæˆ‘â€æ˜¯äººç”Ÿæœ€é‡è¦çš„è¯¾é¢˜ï¼Œæˆ‘æåº¦åæ„Ÿè™šä¼ªå’Œåšä½œã€‚
99. æˆ‘è§‰å¾—è‡ªå·±æƒ…æ„Ÿä¸°å¯Œä¸”æ·±æ²‰ï¼Œä½†é€šå¸¸åªåœ¨å†…å¿ƒç¿»æ¶Œï¼Œå¾ˆå°‘è¡¨éœ²åœ¨å¤–ã€‚
100. æˆ‘å€¾å‘äºç”¨ä¸ªäººçš„å–œæ¶å’Œé“å¾·ç›´è§‰æ¥åšå†³å®šï¼Œè€Œä¸æ˜¯é€»è¾‘åˆ©å¼Šã€‚
101. æˆ‘è®¤ä¸ºæ¯ä¸ªäººéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ä¸ªä½“ï¼Œä¸åº”è¯¥è¢«æ ‡ç­¾åŒ–æˆ–å¼ºåˆ¶åŒåŒ–ã€‚
102. æˆ‘è§‰å¾—è‡ªå·±å¯¹ä»–äººçš„ç—›è‹¦æœ‰å¾ˆæ·±çš„å…±æƒ…ï¼Œä½†è¿™ç§å…±æƒ…æ˜¯å†…åŒ–çš„ã€é™é»˜çš„ã€‚
103. æˆ‘ç»å¸¸å®¡è§†è‡ªå·±çš„åŠ¨æœºï¼Œç¡®ä¿æˆ‘çš„è¡Œä¸ºç¬¦åˆæˆ‘çš„è‰¯çŸ¥ã€‚
104. æˆ‘è§‰å¾—è‡ªå·±åƒä¸€ä¸ªâ€œå®ˆæŠ¤è€…â€ï¼Œé»˜é»˜å®ˆæŠ¤ç€é‚£äº›è¢«å¿½è§†çš„å¼±è€…æˆ–å°ä¼—ç¾¤ä½“ã€‚
105. åˆ«äººå¸¸è¯´æˆ‘çœ‹èµ·æ¥å¾ˆå®‰é™ã€ç¥ç§˜ï¼Œè®©äººæ‰æ‘¸ä¸é€æˆ‘åœ¨æƒ³ä»€ä¹ˆã€‚
106. æœ‹å‹ä»¬è§‰å¾—æˆ‘éå¸¸æœ‰ä¸ªæ€§ï¼Œç©¿è¡£æ‰“æ‰®æˆ–å…´è¶£çˆ±å¥½éƒ½å¾ˆç‹¬ç‰¹ã€‚
107. åˆ«äººç»å¸¸è¯„ä»·æˆ‘æœ‰ç‚¹â€œå›ºæ‰§â€ï¼Œä¸€æ—¦è®¤å®šçš„äº‹æƒ…ä¹å¤´ç‰›éƒ½æ‹‰ä¸å›ã€‚
108. å¤§å®¶è®¤ä¸ºæˆ‘æ˜¯ä¸€ä¸ªéå¸¸çœŸè¯šçš„äººï¼Œä»ä¸ä¸ºäº†è¿åˆä»–äººè€Œæ’’è°ã€‚
109. äº²è¿‘çš„äººè§‰å¾—æˆ‘æƒ…ç»ªèµ·ä¼å¾ˆå¤§ï¼Œè™½ç„¶æˆ‘è¡¨é¢ä¸Šå¯èƒ½çœ‹èµ·æ¥å¾ˆå¹³é™ã€‚
110. åˆ«äººå¸¸è¯´æˆ‘å¯¹è‰ºæœ¯ã€éŸ³ä¹æˆ–æ–‡å­¦æœ‰ç‹¬ç‰¹çš„å“å‘³å’Œæ·±åˆ»çš„ç†è§£ã€‚
111. åŒäº‹ä»¬è§‰å¾—æˆ‘ä¸å¤ªåˆç¾¤ï¼Œæ›´å–œæ¬¢ç‹¬è‡ªå·¥ä½œæˆ–æ²‰æµ¸åœ¨è‡ªå·±çš„ä¸–ç•Œé‡Œã€‚
112. åˆ«äººå¸¸æƒŠè®¶äºæˆ‘åœ¨æŸäº›åŸåˆ™æ€§é—®é¢˜ä¸Šè¡¨ç°å‡ºçš„æ¿€çƒˆååº”ã€‚
113. æˆ‘æ›´å–œæ¬¢æ·±å…¥çš„ä¸€å¯¹ä¸€äº¤æµï¼Œè€Œä¸æ˜¯è‚¤æµ…çš„ç¾¤ä½“ç¤¾äº¤ã€‚
114. æˆ‘å€¾å‘äºé€‰æ‹©èƒ½è¡¨è¾¾è‡ªæˆ‘ä¸ªæ€§çš„å·¥ä½œï¼Œè€Œä¸æ˜¯ä»…ä»…ä¸ºäº†èµšé’±ã€‚
115. æˆ‘æ›´çœ‹é‡å†…å¿ƒçš„å¹³é™å’Œæ»¡è¶³ï¼Œè€Œä¸æ˜¯å¤–ç•Œçš„åœ°ä½å’Œåå£°ã€‚
116. æˆ‘è®¨åŒè¢«å‘ŠçŸ¥â€œä½ åº”è¯¥æ€ä¹ˆåšâ€ï¼Œæˆ‘åªå¬ä»å†…å¿ƒçš„å£°éŸ³ã€‚
117. æˆ‘å–œæ¬¢æ²‰æµ¸åœ¨æ‚²ä¼¤ã€å¿§éƒç­‰å¤æ‚æƒ…ç»ªä¸­ï¼Œè®¤ä¸ºè¿™ä¹Ÿæ˜¯ä¸€ç§ç¾ã€‚
118. ç›¸æ¯”äºå¹¿æ³›çš„äº¤å‹ï¼Œæˆ‘æ›´å€¾å‘äºæ‹¥æœ‰å‡ ä¸ªçµé­‚å¥‘åˆçš„çŸ¥å·±ã€‚
119. æˆ‘æ›´å–œæ¬¢æ”¯æŒé‚£äº›æœ‰æ„ä¹‰ä½†å†·é—¨çš„é¡¹ç›®ï¼Œè€Œä¸æ˜¯éšå¤§æµã€‚
120. æˆ‘å€¾å‘äºé€šè¿‡åˆ›ä½œï¼ˆå†™ä½œã€ç»˜ç”»ç­‰ï¼‰æ¥å®£æ³„å’Œæ•´ç†æˆ‘çš„æƒ…æ„Ÿã€‚
121. å¦‚æœå…¬å¸è¦æ±‚æˆ‘åšä¸€ä»¶è¿èƒŒæˆ‘è‰¯å¿ƒçš„äº‹æƒ…ï¼Œæˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°è¾èŒã€‚
122. å½“çœ‹åˆ°æœ‰äººè¢«éœ¸å‡Œæ—¶ï¼Œæˆ‘ä¼šå› ä¸ºå¼ºçƒˆçš„ä¹‰æ„¤è€ŒæŒºèº«è€Œå‡ºï¼Œå“ªæ€•æˆ‘å¾ˆå®³æ€•ã€‚
123. åœ¨ç¤¾äº¤åœºåˆï¼Œå¦‚æœè¯é¢˜æˆ‘ä¸æ„Ÿå…´è¶£ï¼Œæˆ‘ä¼šé€‰æ‹©æ²‰é»˜æˆ–ç¥æ¸¸ï¼Œè€Œä¸æ˜¯å‡è£…æŠ•å…¥ã€‚
124. å½“æœ‹å‹å‘æˆ‘è¯‰è‹¦æ—¶ï¼Œæˆ‘ä¼šé™é™åœ°é™ªä¼´ä»–ï¼Œè€Œä¸æ˜¯æ€¥ç€ç»™ä»–å‡ºä¸»æ„ã€‚
125. å¦‚æœæˆ‘ä¸å–œæ¬¢ä¸€ä¸ªäººï¼Œæˆ‘å¾ˆéš¾å¯¹ä»–æŒ¤å‡ºç¬‘å®¹ï¼Œå“ªæ€•æ˜¯å‡ºäºç¤¼è²Œã€‚
126. åœ¨åšèŒä¸šè§„åˆ’æ—¶ï¼Œæˆ‘ä¼šä¼˜å…ˆè€ƒè™‘â€œè¿™æ˜¯å¦æ˜¯æˆ‘çƒ­çˆ±çš„â€ï¼Œè€Œä¸æ˜¯â€œè¿™æ˜¯å¦æœ‰å‰é€”â€ã€‚
127. å½“æˆ‘çš„ä¸ªäººç©ºé—´è¢«ä¾µçŠ¯æ—¶ï¼Œæˆ‘ä¼šè¡¨ç°å‡ºå¼ºçƒˆçš„é˜²å¾¡æ€§ã€‚
128. é¢å¯¹ä»–äººçš„è¯¯è§£ï¼Œå¦‚æœè§£é‡Šä¸æ¸…ï¼Œæˆ‘å€¾å‘äºä¸è§£é‡Šï¼Œç›¸ä¿¡æ‡‚æˆ‘çš„äººè‡ªç„¶æ‡‚ã€‚
129. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªæ´»åœ¨å½“ä¸‹çš„äººï¼Œå¾ˆå°‘ä¸ºè¿‡å»åæ‚”æˆ–ä¸ºæœªæ¥ç„¦è™‘ã€‚
130. æˆ‘è®¤ä¸ºèº«ä½“çš„ç›´æ¥ä½“éªŒï¼ˆè§¦è§‰ã€å‘³è§‰ã€åŠ¨æ„Ÿï¼‰æ¯”æŠ½è±¡çš„ç†è®ºæ›´çœŸå®ã€‚
131. æˆ‘è§‰å¾—è‡ªå·±ååº”æå¿«ï¼Œæ“…é•¿å¤„ç†çªå‘çŠ¶å†µå’Œå±æœºå…¬å…³ã€‚
132. æˆ‘å€¾å‘äºé€šè¿‡è¡ŒåŠ¨æ¥è§£å†³é—®é¢˜ï¼Œè€Œä¸æ˜¯åä¸‹æ¥è®¨è®ºæ–¹æ¡ˆã€‚
133. æˆ‘è®¤ä¸ºç”Ÿæ´»å°±åº”è¯¥å……æ»¡åˆºæ¿€å’Œå˜åŒ–ï¼Œå¹³æ·¡æ— å¥‡çš„æ—¥å­è®©æˆ‘çª’æ¯ã€‚
134. æˆ‘è§‰å¾—è‡ªå·±å¯¹å‘¨å›´ç¯å¢ƒçš„ç‰©ç†ç»†èŠ‚ï¼ˆé¢œè‰²ã€å£°éŸ³ã€å…‰çº¿ï¼‰éå¸¸æ•æ„Ÿã€‚
135. æˆ‘å–œæ¬¢å±•ç¤ºè‡ªå·±ï¼Œäº«å—æˆä¸ºä¼—äººç›®å…‰ç„¦ç‚¹çš„æ„Ÿè§‰ã€‚
136. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªæœºä¼šä¸»ä¹‰è€…ï¼Œèƒ½æ•é”åœ°æ•æ‰åˆ°çœ¼å‰çš„åˆ©ç›Šã€‚
137. æœ‹å‹ä»¬å¸¸è¯´æˆ‘ç²¾åŠ›å……æ²›ï¼Œæ€»æ˜¯æ‹‰ç€ä»–ä»¬å»å°è¯•å„ç§æ–°å¥‡å¥½ç©çš„æ´»åŠ¨ã€‚
138. åˆ«äººç»å¸¸è¯„ä»·æˆ‘èƒ†å­å¤§ï¼Œæ•¢äºå†’é™©ï¼Œç”šè‡³æœ‰ç‚¹é²è½ã€‚
139. å¤§å®¶è®¤ä¸ºæˆ‘æ˜¯ä¸€ä¸ªæ—¶å°šè¾¾äººï¼Œå¯¹ç©¿æ­ã€ç¾é£Ÿæˆ–æ½®æµéå¸¸æœ‰ç ”ç©¶ã€‚
140. åˆ«äººå¸¸è¯´æˆ‘åšäº‹â€œä¸‰åˆ†é’Ÿçƒ­åº¦â€ï¼Œå¾ˆéš¾é•¿æœŸåšæŒæ¯ç‡¥çš„ä»»åŠ¡ã€‚
141. äº²è¿‘çš„äººè§‰å¾—æˆ‘æœ‰ç‚¹å†²åŠ¨ï¼Œç»å¸¸ä¸è®¡åæœåœ°è¡Œäº‹ã€‚
142. åŒäº‹ä»¬è®¤ä¸ºæˆ‘éå¸¸é€‚åˆåšç°åœºæ‰§è¡Œã€é”€å”®æˆ–è¡¨æ¼”ç±»çš„å·¥ä½œã€‚
143. åˆ«äººå¸¸æƒŠè®¶äºæˆ‘çš„åŠ¨æ‰‹èƒ½åŠ›ï¼Œèƒ½å¾ˆå¿«å­¦ä¼šæ“ä½œå¤æ‚çš„å™¨æ¢°ã€‚
144. å¤§å®¶è§‰å¾—æˆ‘æ˜¯ä¸€ä¸ªå¾ˆç°å®çš„äººï¼Œåªç›¸ä¿¡çœ¼è§ä¸ºå®ã€‚
145. æˆ‘æ›´å–œæ¬¢æˆ·å¤–è¿åŠ¨æˆ–ç«æŠ€æ¸¸æˆï¼Œè€Œä¸æ˜¯å®…åœ¨å®¶é‡Œçœ‹ä¹¦ã€‚
146. æˆ‘å€¾å‘äºè´­ä¹°é«˜å“è´¨ã€é«˜é¢œå€¼çš„å®ç‰©ï¼Œäº«å—ç‰©è´¨å¸¦æ¥çš„å¿«ä¹ã€‚
147. æˆ‘æ›´çœ‹é‡å³æ—¶çš„æ»¡è¶³æ„Ÿï¼Œè€Œä¸æ˜¯å»¶è¿Ÿæ»¡è¶³ã€‚
148. æˆ‘å–œæ¬¢ä¸äººè¿›è¡Œç›´æ¥çš„èº«ä½“æ¥è§¦ï¼ˆå¦‚æ‹¥æŠ±ã€å‡»æŒï¼‰æˆ–çœ¼ç¥äº¤æµã€‚
149. ç›¸æ¯”äºåˆ¶å®šé•¿è¿œçš„è®¡åˆ’ï¼Œæˆ‘æ›´å–œæ¬¢â€œèµ°ä¸€æ­¥çœ‹ä¸€æ­¥â€ã€‚
150. æˆ‘è®¨åŒæŠ½è±¡çš„å“²å­¦è®¨è®ºï¼Œè§‰å¾—é‚£æ˜¯æµªè´¹æ—¶é—´ï¼Œä¸å¦‚å»å¹²ç‚¹å®äº‹ã€‚
151. æˆ‘æ›´å–œæ¬¢å¿«èŠ‚å¥ã€é«˜å¼ºåº¦çš„ç”Ÿæ´»æ–¹å¼ï¼Œè€Œä¸æ˜¯æ…¢èŠ‚å¥çš„éšå±…ã€‚
152. æˆ‘å€¾å‘äºé€šè¿‡æ„Ÿå®˜å†²å‡»ï¼ˆå¦‚å¤§å£°çš„éŸ³ä¹ã€è¾›è¾£çš„é£Ÿç‰©ï¼‰æ¥é‡Šæ”¾å‹åŠ›ã€‚
153. åœ¨æ¸¸ä¹åœºï¼Œæˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°é€‰æ‹©æœ€åˆºæ¿€çš„è¿‡å±±è½¦æˆ–è·³æ¥¼æœºã€‚
154. å½“å‘ç”Ÿç´§æ€¥äº‹æ•…ï¼ˆå¦‚ç«ç¾ï¼‰æ—¶ï¼Œæˆ‘ä¼šæœ¬èƒ½åœ°å†²ä¸Šå»æ•‘äººæˆ–ç­ç«ï¼Œè€Œä¸æ˜¯æƒŠæ…Œå¤±æªã€‚
155. å¦‚æœæ‰‹é‡Œæœ‰ä¸€ç¬”é—²é’±ï¼Œæˆ‘ä¼šå€¾å‘äºå»æ—…è¡Œæˆ–ä¹°å¥¢ä¾ˆå“ï¼Œè€Œä¸æ˜¯å­˜èµ·æ¥ã€‚
156. åœ¨èšä¼šä¸Šï¼Œæˆ‘ä¼šä¸»åŠ¨ç‚’çƒ­æ°”æ°›ï¼Œå”±æ­Œè·³èˆæˆ–è®²ç¬‘è¯ã€‚
157. å½“é¢å¯¹å¤æ‚çš„è¯´æ˜ä¹¦æ—¶ï¼Œæˆ‘ä¼šç›´æ¥æ‰”åˆ°ä¸€è¾¹ï¼Œè‡ªå·±åŠ¨æ‰‹è¯•é”™ã€‚
158. å¦‚æœæœ‰äººæŒ‘è¡…æˆ‘ï¼Œæˆ‘ä¼šå€¾å‘äºç›´æ¥å›å‡»ï¼ˆè¯­è¨€æˆ–è‚¢ä½“ï¼‰ï¼Œè€Œä¸æ˜¯å¿æ°”åå£°ã€‚
159. åœ¨åšå†³å®šæ—¶ï¼Œæˆ‘ä¼šä¾æ®å½“å‰çš„å½¢åŠ¿è¿…é€Ÿæ‹æ¿ï¼Œè€Œä¸æ˜¯åå¤æƒè¡¡ã€‚
160. çœ‹åˆ°ç¾ä¸½çš„é£æ™¯ï¼Œæˆ‘ä¼šç«‹åˆ»æ‹¿å‡ºæ‰‹æœºæ‹ç…§æ‰“å¡ï¼Œå¹¶åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“ã€‚
161. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªéå¸¸å¿µæ—§çš„äººï¼Œçè§†ä¼ ç»Ÿã€å›å¿†å’Œè€ç‰©ä»¶ã€‚
162. æˆ‘è®¤ä¸ºâ€œæŒ‰éƒ¨å°±ç­â€æ˜¯æœ€é«˜æ•ˆçš„ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥é¿å…ä¸å¿…è¦çš„é£é™©ã€‚
163. æˆ‘è§‰å¾—è‡ªå·±å¯¹èº«ä½“çš„å†…éƒ¨æ„Ÿè§‰ï¼ˆå¦‚é¥¥é¥¿ã€ç–²åŠ³ã€ç–¼ç—›ï¼‰éå¸¸æ•æ„Ÿã€‚
164. æˆ‘å€¾å‘äºé€šè¿‡å¯¹æ¯”è¿‡å»å’Œç°åœ¨æ¥åˆ¤æ–­äº‹ç‰©æ˜¯å¦æ­£å¸¸ã€‚
165. æˆ‘è®¤ä¸ºç»†èŠ‚å†³å®šæˆè´¥ï¼Œæˆ‘æ— æ³•å®¹å¿æ•°æ®æˆ–äº‹å®ä¸Šçš„å¾®å°åå·®ã€‚
166. æˆ‘è§‰å¾—è‡ªå·±éœ€è¦ç¨³å®šçš„æ—¥å¸¸æƒ¯ä¾‹ï¼ˆRoutineï¼‰æ¥ç»´æŒå†…å¿ƒçš„å¹³é™ã€‚
167. æˆ‘ç»å¸¸åœ¨è„‘æµ·ä¸­åƒæ”¾ç”µå½±ä¸€æ ·å›æ”¾è¿‡å»çš„åœºæ™¯ï¼Œç»†èŠ‚æ¸…æ™°å¯è§ã€‚
168. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªå®ˆæˆè€…ï¼Œæ¯”èµ·åˆ›æ–°ï¼Œæˆ‘æ›´æ“…é•¿ç»´æŠ¤å’Œä¼˜åŒ–ç°æœ‰ä½“ç³»ã€‚
169. æœ‹å‹ä»¬å¸¸è¯´æˆ‘è®°æ€§å¥½å¾—å¯æ€•ï¼Œèƒ½è®°å¾—å‡ å¹´å‰å‘ç”Ÿçš„çäº‹ã€‚
170. åˆ«äººç»å¸¸è¯„ä»·æˆ‘åšäº‹ç¨³é‡ã€é è°±ï¼ŒæŠŠäº‹æƒ…äº¤ç»™æˆ‘å¾ˆæ”¾å¿ƒã€‚
171. å¤§å®¶è®¤ä¸ºæˆ‘æœ‰ç‚¹å¢¨å®ˆæˆè§„ï¼Œä¸å–œæ¬¢æ”¹å˜ç°çŠ¶æˆ–å°è¯•æ–°äº‹ç‰©ã€‚
172. åˆ«äººå¸¸è¯´æˆ‘éå¸¸èŠ‚ä¿­ï¼Œæ‡‚å¾—æœªé›¨ç»¸ç¼ªï¼Œæ€»æ˜¯æœ‰å¤‡ç”¨æ–¹æ¡ˆã€‚
173. äº²è¿‘çš„äººè§‰å¾—æˆ‘æœ‰ç‚¹å” å¨ï¼Œæ€»æ˜¯é‡å¤æèµ·è¿‡å»çš„ç»éªŒæ•™è®­ã€‚
174. åŒäº‹ä»¬è®¤ä¸ºæˆ‘éå¸¸é€‚åˆåšè´¢åŠ¡ã€æ¡£æ¡ˆç®¡ç†æˆ–è´¨æ£€ç±»çš„å·¥ä½œã€‚
175. åˆ«äººå¸¸æƒŠè®¶äºæˆ‘å¯¹æµç¨‹å’Œè§„åˆ™çš„ç†Ÿæ‚‰ç¨‹åº¦ï¼Œç®€ç›´æ˜¯æ´»å­—å…¸ã€‚
176. å¤§å®¶è§‰å¾—æˆ‘æ˜¯ä¸€ä¸ªå¾ˆæ‹å®¶çš„äººï¼Œå–œæ¬¢èˆ’é€‚ç†Ÿæ‚‰çš„ç¯å¢ƒã€‚
177. æˆ‘æ›´å–œæ¬¢å»ç†Ÿæ‚‰çš„é¤å…ç‚¹åŒæ ·çš„èœï¼Œè€Œä¸æ˜¯å»æ–°å¼€çš„åº—è¸©é›·ã€‚
178. æˆ‘å€¾å‘äºéµå¾ªå‰è¾ˆæ€»ç»“å‡ºæ¥çš„ç»éªŒæ–¹æ³•ï¼Œè€Œä¸æ˜¯è‡ªå·±çæŠ˜è…¾ã€‚
179. æˆ‘æ›´çœ‹é‡ç”Ÿæ´»çš„ç¨³å®šæ€§å’Œå®‰å…¨æ„Ÿï¼Œè€Œä¸æ˜¯åˆºæ¿€å’ŒæŒ‘æˆ˜ã€‚
180. æˆ‘å–œæ¬¢æ”¶é›†å’Œæ•´ç†å…·æœ‰çºªå¿µæ„ä¹‰çš„ç‰©å“ï¼ˆå¦‚ç¥¨æ ¹ã€ç…§ç‰‡ï¼‰ã€‚
181. ç›¸æ¯”äºå®å¤§çš„æ„¿æ™¯ï¼Œæˆ‘æ›´å…³æ³¨å…·ä½“çš„æ‰§è¡Œç»†èŠ‚å’Œæ­¥éª¤ã€‚
182. æˆ‘è®¨åŒçªå¦‚å…¶æ¥çš„å˜æ•…æˆ–è®¡åˆ’è¢«æ‰“ä¹±ï¼Œè¿™ä¼šè®©æˆ‘å¾ˆç„¦è™‘ã€‚
183. æˆ‘æ›´å–œæ¬¢é˜…è¯»å†å²ã€ä¼ è®°æˆ–çºªå®æ–‡å­¦ï¼Œè€Œä¸æ˜¯ç§‘å¹»å°è¯´ã€‚
184. æˆ‘å€¾å‘äºä¸€æ­¥ä¸€ä¸ªè„šå°åœ°ç§¯ç´¯è´¢å¯Œï¼Œè€Œä¸æ˜¯è¿›è¡Œé«˜é£é™©æŠ•èµ„ã€‚
185. åœ¨æ•´ç†æˆ¿é—´æ—¶ï¼Œæˆ‘ä¼šæŠŠæ¯æ ·ä¸œè¥¿éƒ½æ”¾å›å®ƒå›ºå®šçš„ä½ç½®ï¼Œå¹¶ä¸”å¾ˆéš¾å®¹å¿åˆ«äººä¹±æ”¾ã€‚
186. å½“æ¥æ‰‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œæˆ‘ä¼šå…ˆæŸ¥é˜…ä»¥å‰çš„æ¡£æ¡ˆï¼Œçœ‹çœ‹ä»¥å‰æ˜¯æ€ä¹ˆåšçš„ã€‚
187. å¦‚æœèº«ä½“æ„Ÿåˆ°ä¸€ç‚¹ä¸é€‚ï¼Œæˆ‘ä¼šç«‹åˆ»ä¼‘æ¯æˆ–åƒè¯ï¼Œé˜²æ­¢ç—…æƒ…æ¶åŒ–ã€‚
188. åœ¨åšé¢„ç®—æ—¶ï¼Œæˆ‘ä¼šè¯¦ç»†è®°å½•æ¯ä¸€ç¬”å¼€æ”¯ï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½ã€‚
189. é¢å¯¹ä»–äººçš„ç”»é¥¼ï¼Œæˆ‘ä¼šè¦æ±‚ä»–æä¾›å…·ä½“çš„æ•°æ®å’Œè¿‡å¾€çš„æˆåŠŸæ¡ˆä¾‹ã€‚
190. å¦‚æœå¿…é¡»å»ä¸€ä¸ªé™Œç”Ÿçš„åœ°æ–¹ï¼Œæˆ‘ä¼šæå‰æŸ¥å¥½è·¯çº¿å›¾å’Œæ”»ç•¥ï¼Œä¸åšæ— å‡†å¤‡ä¹‹è¡Œã€‚
191. åœ¨èŠ‚æ—¥é‡Œï¼Œæˆ‘ä¼šåšæŒæŒ‰ç…§ä¼ ç»Ÿçš„ä¹ ä¿—æ¥åº†ç¥ï¼Œè§‰å¾—è¿™æ ·æ‰æœ‰ä»ªå¼æ„Ÿã€‚
192. å½“åˆ«äººæå‡ºä¸€ä¸ªæ¿€è¿›çš„æ”¹é©æ–¹æ¡ˆæ—¶ï¼Œæˆ‘ä¼šåˆ—ä¸¾è¿‡å»å¤±è´¥çš„ä¾‹å­æ¥åé©³ã€‚
193. æˆ‘è§‰å¾—è‡ªå·±è„‘å­é‡Œæ€»æ˜¯å……æ»¡äº†å„ç§å¤©é©¬è¡Œç©ºçš„æƒ³æ³•ï¼Œåœéƒ½åœä¸ä¸‹æ¥ã€‚
194. æˆ‘è®¤ä¸ºä¸–ç•Œå……æ»¡äº†æ— é™çš„å¯èƒ½æ€§ï¼Œæˆ‘ä¸æ„¿æ„è¿‡ä¸€çœ¼æœ›åˆ°å¤´çš„ç”Ÿæ´»ã€‚
195. æˆ‘è§‰å¾—è‡ªå·±æ“…é•¿å‘ç°çœ‹ä¼¼æ— å…³çš„äº‹ç‰©ä¹‹é—´çš„æ½œåœ¨è”ç³»ã€‚
196. æˆ‘å€¾å‘äºè·³è·ƒæ€§æ€ç»´ï¼Œè¯´è¯æ—¶ç»å¸¸ä»ä¸€ä¸ªè¯é¢˜è·³åˆ°å¦ä¸€ä¸ªè¯é¢˜ã€‚
197. æˆ‘è®¤ä¸ºâ€œå¼€å§‹â€æ¯”â€œç»“æŸâ€æ›´æœ‰è¶£ï¼Œæˆ‘ç»å¸¸æŒ–å‘ä¸å¡«ã€‚
198. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªæ”¹é©è€…ï¼Œæ€»æ˜¯æƒ³æ‰“ç ´å¸¸è§„ï¼Œå°è¯•æ–°çš„æ–¹æ³•ã€‚
199. æˆ‘ç»å¸¸å¯¹æœªæ¥çš„å„ç§â€œå¦‚æœâ€æ„Ÿåˆ°å…´å¥‹ï¼Œå“ªæ€•å®ƒä»¬å¾ˆä¸åˆ‡å®é™…ã€‚
200. æˆ‘è§‰å¾—è‡ªå·±å¾ˆéš¾é•¿æ—¶é—´é›†ä¸­æ³¨æ„åŠ›åœ¨æ¯ç‡¥çš„ç»†èŠ‚ä¸Šï¼Œå®¹æ˜“èµ°ç¥ã€‚
201. æœ‹å‹ä»¬å¸¸è¯´æˆ‘è„‘æ´å¾ˆå¤§ï¼Œæ€»æ˜¯èƒ½æå‡ºä¸€äº›æ„æƒ³ä¸åˆ°çš„ç‚¹å­ã€‚
202. åˆ«äººç»å¸¸è¯„ä»·æˆ‘å¹½é»˜é£è¶£ï¼Œè¯´è¯å……æ»¡äº†æ¢—å’Œæ¯”å–»ã€‚
203. å¤§å®¶è®¤ä¸ºæˆ‘æœ‰ç‚¹ä¸é è°±ï¼Œæƒ³æ³•å˜æ¥å˜å»ï¼Œç¼ºä¹å®šæ€§ã€‚
204. åˆ«äººå¸¸è¯´æˆ‘çƒ­æƒ…æ´‹æº¢ï¼Œæ€»èƒ½æ„ŸæŸ“èº«è¾¹çš„äººä¸€èµ·åšæ¢¦ã€‚
205. äº²è¿‘çš„äººè§‰å¾—æˆ‘æœ‰ç‚¹â€œå¤šåŠ¨ç—‡â€ï¼Œå¾ˆéš¾å®‰å®‰é™é™åœ°åç€ã€‚
206. åŒäº‹ä»¬è®¤ä¸ºæˆ‘éå¸¸é€‚åˆåšåˆ›æ„ã€ç­–åˆ’æˆ–å¸‚åœºç±»çš„å·¥ä½œã€‚
207. åˆ«äººå¸¸æƒŠè®¶äºæˆ‘èƒ½ä»ä¸€ä¸ªå¾®å°çš„çº¿ç´¢æ¨å¯¼å‡ºæ— æ•°ç§å¯èƒ½æ€§ã€‚
208. å¤§å®¶è§‰å¾—æˆ‘æ˜¯ä¸€ä¸ªå¾ˆå¥½å¥‡çš„äººï¼Œå¯¹ä»€ä¹ˆéƒ½æ„Ÿå…´è¶£ï¼Œä½†éƒ½ä¸ç²¾é€šã€‚
209. æˆ‘æ›´å–œæ¬¢å¤´è„‘é£æš´çš„ç¯èŠ‚ï¼Œè€Œä¸æ˜¯å…·ä½“çš„æ‰§è¡Œç¯èŠ‚ã€‚
210. æˆ‘å€¾å‘äºæ¢ç´¢æŠ½è±¡çš„æ¦‚å¿µå’Œç†è®ºï¼Œè€Œä¸æ˜¯å…³æ³¨ç°å®çš„çäº‹ã€‚
211. æˆ‘æ›´çœ‹é‡çµæ„Ÿå’Œåˆ›æ„ï¼Œè€Œä¸æ˜¯ä¸¥è°¨å’Œç§©åºã€‚
212. æˆ‘å–œæ¬¢ä¸ä¸åŒèƒŒæ™¯çš„äººäº¤æµï¼Œç¢°æ’å‡ºæ€ç»´çš„ç«èŠ±ã€‚
213. ç›¸æ¯”äºä¸“æ³¨äºä¸€ä¸ªé¢†åŸŸï¼Œæˆ‘æ›´å–œæ¬¢è·¨ç•Œå­¦ä¹ ï¼Œæˆä¸ºé€šæ‰ã€‚
214. æˆ‘è®¨åŒé‡å¤æ€§çš„å·¥ä½œï¼Œé‚£ä¼šè®©æˆ‘æ„Ÿåˆ°çµé­‚æ¯ç«­ã€‚
215. æˆ‘æ›´å–œæ¬¢å¼€æ”¾å¼çš„ç»“å±€ï¼Œè€Œä¸æ˜¯ç¡®å®šçš„ç­”æ¡ˆã€‚
216. æˆ‘å€¾å‘äºé€šè¿‡è¾©è®ºæ¥æ¢ç´¢çœŸç†ï¼Œäº«å—æ€ç»´äº¤é”‹çš„å¿«æ„Ÿã€‚
217. åœ¨è®¨è®ºé—®é¢˜æ—¶ï¼Œæˆ‘ä¼šä¸æ–­æå‡ºâ€œå¦‚æœâ€¦â€¦ä¼šæ€æ ·â€ï¼Œå¼•å¯¼å¤§å®¶å‘æ•£æ€ç»´ã€‚
218. å½“çœ‹åˆ°ä¸€ä¸ªæ–°å¥‡çš„å°ç©æ„ï¼Œæˆ‘ä¼šå¿ä¸ä½ä¹°å›æ¥ç ”ç©¶å®ƒæœ‰ä»€ä¹ˆæ–°ç©æ³•ã€‚
219. å¦‚æœåŸæ¥çš„è®¡åˆ’è¡Œä¸é€šï¼Œæˆ‘ä¼šç«‹åˆ»æƒ³å‡ºæ–¹æ¡ˆBã€æ–¹æ¡ˆCç”šè‡³æ–¹æ¡ˆDã€‚
220. åœ¨å†™ä½œæˆ–åˆ›ä½œæ—¶ï¼Œæˆ‘ç»å¸¸å†™ç€å†™ç€å°±åç¦»äº†æœ€åˆçš„å¤§çº²ï¼Œå‘ç°äº†æ–°å¤§é™†ã€‚
221. é¢å¯¹æ­»æ¿çš„è§„å®šï¼Œæˆ‘ä¼šå°è¯•å¯»æ‰¾æ¼æ´æˆ–ç”¨åˆ›æ–°çš„æ–¹å¼ç»•è¿‡å®ƒã€‚
222. å½“åˆ«äººåœ¨è°ˆè®ºç°å®çš„å›°éš¾æ—¶ï¼Œæˆ‘ä¼šæç»˜æœªæ¥çš„ç¾å¥½è“å›¾æ¥æ¿€åŠ±ä»–ä»¬ã€‚
223. å¦‚æœè®©æˆ‘é€‰æ‹©ï¼Œæˆ‘å®æ„¿åšä¸€ä¸ªå¤±è´¥çš„åˆ›æ–°è€…ï¼Œä¹Ÿä¸åšä¸€ä¸ªæˆåŠŸçš„æ¨¡ä»¿è€…ã€‚
224. åœ¨é—²æš‡æ—¶ï¼Œæˆ‘ä¼šæµè§ˆå„ç§ä¸ç›¸å…³çš„èµ„è®¯ï¼ŒæœŸå¾…ä»ä¸­è·å¾—çµæ„Ÿã€‚
225. æˆ‘è§‰å¾—è‡ªå·±ç»å¸¸ä¼šæœ‰å¼ºçƒˆçš„é¢„æ„Ÿï¼Œå¹¶ä¸”äº‹åè¯æ˜é€šå¸¸æ˜¯æ­£ç¡®çš„ã€‚
226. æˆ‘è®¤ä¸ºé€è¿‡ç°è±¡çœ‹æœ¬è´¨æ˜¯æˆ‘çš„æœ¬èƒ½ï¼Œæˆ‘ä¸å–œæ¬¢åœç•™åœ¨è¡¨é¢ã€‚
227. æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªé•¿æœŸä¸»ä¹‰è€…ï¼Œä¸ºäº†ä¸€ä¸ªå®å¤§çš„ç›®æ ‡å¯ä»¥å¿å—å½“ä¸‹çš„å¯‚å¯ã€‚
228. æˆ‘å€¾å‘äºæ”¶æ•›æ€§æ€ç»´ï¼ŒæŠŠå„ç§ä¿¡æ¯æ•´åˆæˆä¸€ä¸ªå”¯ä¸€çš„ç»“è®ºæˆ–æ„¿æ™¯ã€‚
229. æˆ‘è®¤ä¸ºä¸‡äº‹ä¸‡ç‰©ä¹‹é—´éƒ½å­˜åœ¨ç€æŸç§ç¥ç§˜çš„å†…åœ¨è”ç³»æˆ–å®¿å‘½ã€‚
230. æˆ‘è§‰å¾—è‡ªå·±ç»å¸¸ç”¨éšå–»ã€è±¡å¾æˆ–å›¾åƒæ¥æ€è€ƒé—®é¢˜ï¼Œè€Œä¸æ˜¯è¯­è¨€ã€‚
231. æˆ‘ç»å¸¸æ„Ÿåˆ°ä¸€ç§â€œé¡¿æ‚Ÿâ€æ—¶åˆ»ï¼Œç­”æ¡ˆçªç„¶å‡ºç°åœ¨è„‘æµ·é‡Œï¼Œå´è¯´ä¸æ¸…æ¨å¯¼è¿‡ç¨‹ã€‚
232. æˆ‘è§‰å¾—è‡ªå·±ä¸ç°å®ä¸–ç•Œæœ‰ä¸€ç§ç–ç¦»æ„Ÿï¼Œæ›´åƒæ˜¯ä¸€ä¸ªæ—è§‚è€…ã€‚
233. æœ‹å‹ä»¬å¸¸è¯´æˆ‘è¯´è¯æ·±å¥¥éš¾æ‡‚ï¼Œåƒä¸ªå“²å­¦å®¶æˆ–é¢„è¨€å®¶ã€‚
234. åˆ«äººç»å¸¸è¯„ä»·æˆ‘çœ¼ç¥æ·±é‚ƒï¼Œå¥½åƒèƒ½çœ‹ç©¿ä»–ä»¬çš„å¿ƒæ€ã€‚
235. å¤§å®¶è®¤ä¸ºæˆ‘æœ‰ç‚¹å›ºæ‰§å·±è§ï¼Œå¯¹è‡ªå·±è®¤å®šçš„æœªæ¥æ–¹å‘ç»ä¸å¦¥åã€‚
236. åˆ«äººå¸¸è¯´æˆ‘è¿‡äºç†æƒ³åŒ–ï¼Œä¸æ¥åœ°æ°”ï¼Œå¿½ç•¥äº†ç°å®çš„é˜»ç¢ã€‚
237. äº²è¿‘çš„äººè§‰å¾—æˆ‘å¾ˆéš¾æ”¾æ¾ï¼Œè„‘å­é‡Œæ€»æ˜¯åœ¨æ€è€ƒæ²‰é‡çš„é—®é¢˜ã€‚
238. åŒäº‹ä»¬è®¤ä¸ºæˆ‘éå¸¸é€‚åˆåšæˆ˜ç•¥è§„åˆ’ã€é¡¾é—®æˆ–ç ”ç©¶ç±»çš„å·¥ä½œã€‚
239. åˆ«äººå¸¸æƒŠè®¶äºæˆ‘å¯¹å±€åŠ¿å‘å±•çš„é¢„æµ‹èƒ½åŠ›ï¼Œç®€ç›´ç¥å‡†ã€‚
240. å¤§å®¶è§‰å¾—æˆ‘æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ·±åº¦çš„äººï¼Œä½†å¾ˆéš¾çœŸæ­£èµ°è¿›æˆ‘çš„å†…å¿ƒã€‚
241. æˆ‘æ›´å–œæ¬¢æ·±å…¥é’»ç ”ä¸€ä¸ªé¢†åŸŸç›´åˆ°æè‡´ï¼Œè€Œä¸æ˜¯å¹¿æ³›æ¶‰çŒã€‚
242. æˆ‘å€¾å‘äºæ€è€ƒâ€œä¸ºä»€ä¹ˆâ€å’Œâ€œå°†ä¼šæ€æ ·â€ï¼Œè€Œä¸æ˜¯â€œæ˜¯ä»€ä¹ˆâ€å’Œâ€œç°åœ¨æ€æ ·â€ã€‚
243. æˆ‘æ›´çœ‹é‡æ€æƒ³çš„æ·±åº¦å’ŒåŸåˆ›æ€§ï¼Œè€Œä¸æ˜¯ä¿¡æ¯çš„å¹¿åº¦ã€‚
244. æˆ‘å–œæ¬¢ç‹¬å¤„ï¼Œç»™è‡ªå·±ç•™å‡ºæ—¶é—´æ¥å†¥æƒ³æˆ–æ•´ç†æ€ç»ªã€‚
245. ç›¸æ¯”äºçƒ­é—¹çš„èšä¼šï¼Œæˆ‘æ›´å–œæ¬¢å’Œä¸€ä¸¤ä¸ªæœ‰æ€æƒ³çš„äººè¿›è¡Œæ·±åº¦å¯¹è°ˆã€‚
246. æˆ‘è®¨åŒçç¢çš„æ—¥å¸¸äº‹åŠ¡ï¼Œè§‰å¾—å®ƒä»¬åœ¨æ¶ˆè€—æˆ‘çš„ç”Ÿå‘½ã€‚
247. æˆ‘æ›´å–œæ¬¢ç­–åˆ’é•¿è¿œçš„æˆ˜ç•¥ï¼Œè€Œä¸æ˜¯å¤„ç†çœ¼å‰çš„æˆ˜æœ¯é—®é¢˜ã€‚
248. æˆ‘å€¾å‘äºç›¸ä¿¡ç›´è§‰æŒ‡å¼•ï¼Œå“ªæ€•æ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®æ”¯æŒã€‚
249. åœ¨çœ‹ç”µå½±æ—¶ï¼Œæˆ‘ç»å¸¸åœ¨å¼€å¤´å°±èƒ½çŒœåˆ°ç»“å±€å’Œå¯¼æ¼”æƒ³è¡¨è¾¾çš„æ·±å±‚éšå–»ã€‚
250. å½“é¢å¯¹ä¸€ä¸ªå¤æ‚çš„é—®é¢˜æ—¶ï¼Œæˆ‘ä¼šå…ˆé€€åä¸€æ­¥ï¼Œå¯»æ‰¾å…¶èƒŒåçš„æ ¸å¿ƒæ¨¡å¼ã€‚
251. å¦‚æœæˆ‘è§‰å¾—æŸä»¶äº‹æ³¨å®šä¼šå¤±è´¥ï¼Œæ— è®ºåˆ«äººæ€ä¹ˆåŠè¯´ï¼Œæˆ‘éƒ½ä¸ä¼šå‚ä¸ã€‚
252. åœ¨åˆ¶å®šè®¡åˆ’æ—¶ï¼Œæˆ‘ä¼šå€’æ¨æ³•ï¼Œå…ˆç¡®å®šç»ˆå±€ç”»é¢ï¼Œå†è§„åˆ’è·¯å¾„ã€‚
253. å½“åˆ«äººéƒ½åœ¨å…³æ³¨çƒ­ç‚¹æ–°é—»çš„ç»†èŠ‚æ—¶ï¼Œæˆ‘åœ¨æ€è€ƒè¿™èƒŒååæ˜ äº†ä»€ä¹ˆç¤¾ä¼šè¶‹åŠ¿ã€‚
254. å¦‚æœæˆ‘çš„ç›´è§‰å‘Šè¯‰æˆ‘æŸäººä¸å¯ä¿¡ï¼Œæˆ‘ä¼šå¯¹ä»–ä¿æŒè­¦æƒ•ï¼Œå³ä½¿ä»–è¡¨ç°å¾—å¾ˆå‹å–„ã€‚
255. åœ¨å­¦ä¹ æ–°çŸ¥è¯†æ—¶ï¼Œæˆ‘ä¼šè¯•å›¾å»ºç«‹ä¸€ä¸ªæ¡†æ¶ä½“ç³»ï¼ŒæŠŠæ‰€æœ‰çŸ¥è¯†ç‚¹ä¸²è”èµ·æ¥ã€‚
256. é¢å¯¹äººç”Ÿçš„é‡å¤§é€‰æ‹©ï¼Œæˆ‘ä¼šå¬ä»å†…å¿ƒçš„å¬å”¤ï¼Œè€Œä¸æ˜¯ç¤¾ä¼šçš„æœŸå¾…ã€‚
`;

    const lines = rawText.trim().split('\n').filter(l => l.trim() !== '');
    const fullQuestionBank = [];
    const funcMap = ["Te", "Ti", "Fe", "Fi", "Se", "Si", "Ne", "Ni"];
    
    lines.forEach((line, idx) => {
        const groupIdx = Math.floor(idx / 32);
        if (groupIdx < 8) {
            fullQuestionBank.push({
                id: idx + 1,
                text: line.replace(/^\d+\.\s*/, ''),
                func: funcMap[groupIdx]
            });
        }
    });

    // --- 1. çŠ¶æ€ç®¡ç† ---
    let targetCount = 96;
    let quizList = [];
    let currentIdx = 0;
    let answers = [];
    let scores = {};
    let normalizedScores = {}; 
    let finalType = "";
    
    let chatHistory = {
        general: [],
        career: [],
        love: []
    };
    let currentAiTab = 'general';
    let isGenerating = false;
    const isDebug = true;

    // --- 2. é€»è¾‘æ§åˆ¶ ---

    function selectMode(count, el) {
        targetCount = count;
        document.querySelectorAll('.mode-card').forEach(c => c.classList.remove('selected'));
        el.classList.add('selected');
    }

    function startQuiz() {
        quizList = [];
        if (targetCount === 256) {
            quizList = [...fullQuestionBank];
        } else {
            const countPerFunc = targetCount / 8;
            funcMap.forEach(f => {
                const funcQuestions = fullQuestionBank.filter(q => q.func === f);
                const shuffled = funcQuestions.sort(() => 0.5 - Math.random());
                quizList.push(...shuffled.slice(0, countPerFunc));
            });
        }
        quizList.sort(() => 0.5 - Math.random());
        
        currentIdx = 0;
        answers = [];
        
        document.getElementById('page-home').classList.remove('active');
        document.getElementById('page-quiz').classList.add('active');
        renderQuestion();
    }

    function renderQuestion() {
        const q = quizList[currentIdx];
        document.getElementById('q-text').innerText = q.text;
        document.getElementById('curr-idx').innerText = currentIdx + 1;
        document.getElementById('total-count').innerText = targetCount;
        
        const pct = (currentIdx / targetCount) * 100;
        document.getElementById('progress').style.width = pct + "%";
        
        document.getElementById('btn-undo').disabled = (currentIdx === 0);
        document.getElementById('btn-undo').style.opacity = (currentIdx === 0) ? 0.3 : 1;
    }

    function handleAnswer(val) {
        const q = quizList[currentIdx];
        answers.push({ func: q.func, score: val });
        currentIdx++;
        if (currentIdx < targetCount) {
            renderQuestion();
        } else {
            finishQuiz();
        }
    }

    function undo() {
        if (currentIdx > 0) {
            answers.pop();
            currentIdx--;
            renderQuestion();
        }
    }

    // --- 3. ç»“æœè®¡ç®—ä¸å½’ä¸€åŒ– ---

    const types = {
        "ESTJ": ["Te", "Si", "Ne", "Fi"], "ENTJ": ["Te", "Ni", "Se", "Fi"],
        "ESFJ": ["Fe", "Si", "Ne", "Ti"], "ENFJ": ["Fe", "Ni", "Se", "Ti"],
        "ESTP": ["Se", "Ti", "Fe", "Ni"], "ESFP": ["Se", "Fi", "Te", "Ni"],
        "ENTP": ["Ne", "Ti", "Fe", "Si"], "ENFP": ["Ne", "Fi", "Te", "Si"],
        "ISTJ": ["Si", "Te", "Fi", "Ne"], "ISFJ": ["Si", "Fe", "Ti", "Ne"],
        "INTJ": ["Ni", "Te", "Fi", "Se"], "INFJ": ["Ni", "Fe", "Ti", "Se"],
        "ISTP": ["Ti", "Se", "Ni", "Fe"], "ISFP": ["Fi", "Se", "Ni", "Te"],
        "INTP": ["Ti", "Ne", "Si", "Fe"], "INFP": ["Fi", "Ne", "Si", "Te"]
    };

    function finishQuiz() {
        scores = { "Te":0, "Ti":0, "Fe":0, "Fi":0, "Se":0, "Si":0, "Ne":0, "Ni":0 };
        answers.forEach(a => scores[a.func] += a.score);

        const maxPossibleScore = (targetCount / 8) * 5;
        normalizedScores = {};
        for(let f in scores) {
            normalizedScores[f] = Math.round((scores[f] / maxPossibleScore) * 100);
        }

        let matchScores = [];
        for (let t in types) {
            const stack = types[t];
            let s = (normalizedScores[stack[0]]*4) + 
                    (normalizedScores[stack[1]]*3) + 
                    (normalizedScores[stack[2]]*2) + 
                    (normalizedScores[stack[3]]*1);
            let matchPct = (s / 1000) * 100;
            matchScores.push({ type: t, score: matchPct.toFixed(1) });
        }
        matchScores.sort((a, b) => b.score - a.score);
        finalType = matchScores[0].type;

        showResultPage(matchScores);
    }

    function showResultPage(matchScores) {
        document.getElementById('page-quiz').classList.remove('active');
        document.getElementById('page-home').classList.remove('active');
        document.getElementById('page-result').classList.add('active');
        document.getElementById('res-type').innerText = finalType;
        
        renderCharts();
        renderMatchList(matchScores);

        if (chatHistory['general'].length === 0) {
            switchAiTab('general');
        } else {
            switchAiTab(currentAiTab);
        }
    }

    function renderCharts() {
        const container = document.getElementById('chart-container');
        container.innerHTML = '';
        const order = ["Te", "Ti", "Fe", "Fi", "Se", "Si", "Ne", "Ni"];
        
        order.forEach(f => {
            const pct = normalizedScores[f];
            const desc = funcDefinitions[f];
            container.innerHTML += `
                <div class="chart-row">
                    <div class="chart-label-container" data-tooltip="${desc}">
                        <div class="chart-label">${f}</div>
                    </div>
                    <div class="chart-track"><div class="chart-fill" style="width:${pct}%"></div></div>
                    <div class="chart-val">${pct}%</div>
                </div>
            `;
        });
    }

    function renderMatchList(list) {
        const container = document.getElementById('match-container');
        container.innerHTML = '';
        list.slice(0, 5).forEach(item => {
            container.innerHTML += `
                <div style="display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px solid #eee;">
                    <span style="font-weight:500;">${item.type}</span>
                    <span style="font-weight:bold; color:var(--accent);">${item.score}%</span>
                </div>
            `;
        });
    }

    // --- 4. èŠå¤©ä¸AIç³»ç»Ÿ ---

    function switchAiTab(tab) {
        if (isGenerating) return;
        
        document.querySelectorAll('.ai-tab').forEach(b => b.classList.remove('active'));
        const btns = document.querySelectorAll('.ai-tab');
        if(tab === 'general') btns[0].classList.add('active');
        if(tab === 'career') btns[1].classList.add('active');
        if(tab === 'love') btns[2].classList.add('active');

        currentAiTab = tab;
        renderChatHistory();

        if (chatHistory[tab].length === 0) {
            triggerInitialReport(tab);
        }
    }

    function renderChatHistory() {
        const box = document.getElementById('chat-box');
        box.innerHTML = '';
        const msgs = chatHistory[currentAiTab];
        
        msgs.forEach(msg => {
            if (msg.role === 'system') return;
            appendMessageToUI(msg.role, msg.content, false);
        });
        box.scrollTop = box.scrollHeight;
    }

    function appendMessageToUI(role, content, isStreaming = false) {
        const box = document.getElementById('chat-box');
        const cleanContent = content.replace(/\*\*\s+(.*?)\s+\*\*/g, '**$1**');

        if (isStreaming && role === 'assistant') {
            let lastMsg = box.lastElementChild;
            if (lastMsg && lastMsg.classList.contains('msg-ai')) {
                lastMsg.innerHTML = marked.parse(cleanContent) + '<span class="cursor"></span>';
                box.scrollTop = box.scrollHeight;
                return lastMsg;
            }
        }

        const div = document.createElement('div');
        div.className = `message msg-${role === 'user' ? 'user' : 'ai'} markdown-body`;
        div.innerHTML = role === 'user' ? content : (marked.parse(cleanContent) + (isStreaming ? '<span class="cursor"></span>' : ''));
        box.appendChild(div);
        box.scrollTop = box.scrollHeight;
        return div;
    }

    async function triggerInitialReport(mode) {
        const scoreStr = JSON.stringify(normalizedScores);
        
        let promptContent = "";
        
        if (mode === 'general') {
            promptContent = `
            è¯·ç”Ÿæˆã€ç»¼åˆäººæ ¼è§£æã€‘ã€‚
            è¦æ±‚ï¼š
            1. **æ ¸å¿ƒç»“è®º**ï¼šç”¨é€šä¿—æ˜“æ‡‚ã€ç”šè‡³å¸¦ç‚¹å¹½é»˜çš„â€œå¤§ç™½è¯â€æ¦‚æ‹¬æˆ‘çš„çŠ¶æ€ã€‚
            2. **è¯¦ç»†åˆ†æ**ï¼šç»“åˆæˆ‘çš„å…«ç»´å¾—åˆ†å’Œmbtiè¿›è¡Œè§£è¯»ã€‚
            3. **è¡ŒåŠ¨å»ºè®®**ï¼š3æ¡å…·ä½“å»ºè®®ã€‚
            `;
        } else if (mode === 'career') {
            promptContent = `
            è¯·ç”Ÿæˆã€èŒä¸šç”Ÿæ¶¯è§„åˆ’ã€‘ã€‚
            è¦æ±‚ï¼š
            1. **èŒåœºäººè®¾**ï¼šç”¨â€œè¯´äººè¯â€çš„æ–¹å¼æè¿°æˆ‘åœ¨å·¥ä½œä¸­æ˜¯ä»€ä¹ˆæ ·çš„äººã€‚
            2. **å¤©é€‰èŒä¸š**ï¼šæ¨èæœ€é€‚åˆæˆ‘çš„èŒä¸šæ–¹å‘ã€‚
            3. **åç‰¢èŒä¸š**ï¼šåˆ—å‡ºæˆ‘ç»å¯¹åº”è¯¥é¿å¼€çš„èŒä¸šç±»å‹ï¼ˆé¿é›·åŒºï¼‰ã€‚
            4. **èŒåœºå»ºè®®**ï¼šå¦‚ä½•å‘æŒ¥ä¼˜åŠ¿ï¼Œé¿å…åŠ£åŠ¿ã€‚
            `;
        } else if (mode === 'love') {
            promptContent = `
            è¯·ç”Ÿæˆã€æ‹çˆ±ä¸å…³ç³»åˆ†æã€‘ã€‚
            è¦æ±‚ï¼š
            1. **æ‹çˆ±ç”»é£**ï¼šæˆ‘åœ¨äº²å¯†å…³ç³»ä¸­é€šå¸¸æ˜¯ä»€ä¹ˆå½¢è±¡ï¼Ÿ
            2. **ç†æƒ³å‹**ï¼šä»€ä¹ˆæ ·çš„ç±»å‹æœ€å¸å¼•æˆ‘ï¼Œä¸”æœ€é€‚åˆæˆ‘ï¼Ÿ
            3. **é¿é›·åŒº**ï¼šæˆ‘åº”è¯¥è¿œç¦»ä»€ä¹ˆæ ·çš„ä¼´ä¾£ï¼Ÿ
            4. **ç›¸å¤„å»ºè®®**ï¼šåœ¨æ‹çˆ±ä¸­æˆ‘å¯èƒ½è¡¨ç°å‡ºçš„é—®é¢˜åŠæ”¹è¿›å»ºè®®ã€‚
            `;
        }

        let systemPrompt = `ä½ æ˜¯ä¸€ä½èµ„æ·±çš„è£æ ¼å¿ƒç†å­¦åˆ†æå¸ˆï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä½è¯´è¯é£è¶£ã€ç›´å‡»äººå¿ƒçš„å’¨è¯¢å¸ˆã€‚
        ç”¨æˆ·çš„å…«ç»´å¾—åˆ†(0-100%)ï¼š${scoreStr}ã€‚
        æœ€åŒ¹é…ç±»å‹ï¼š${finalType}ã€‚
        
        ${promptContent}
        
        æ’ç‰ˆè¦æ±‚ï¼šä¸¥æ ¼éµå®ˆmarkdownè¯­æ³•ï¼Œè‹¥å¹²#æ„æˆçš„æ ‡é¢˜å¿…é¡»å‡ºç°åœ¨è¡Œçš„å¼€å¤´ä¸”åé¢è·Ÿç€ç©ºæ ¼ï¼Œæ®µè½å†…åŠ ç²—å†…å®¹å¿…é¡»å‰åæ°å¥½å„æœ‰ä¸¤ä¸ª*ã€‚
        æ–‡é£è¦æ±‚ï¼šé‡ç‚¹çªå‡ºï¼Œæ¡ç†æ¸…æ™°ï¼Œæ·±å…¥æµ…å‡º`;

        chatHistory[mode].push({ role: "system", content: systemPrompt });
        await streamAiResponse(mode, [{ role: "system", content: systemPrompt }]);
    }

    async function sendMessage() {
        const input = document.getElementById('user-input');
        const text = input.value.trim();
        if (!text || isGenerating) return;

        input.value = '';
        chatHistory[currentAiTab].push({ role: "user", content: text });
        appendMessageToUI('user', text);
        await streamAiResponse(currentAiTab, chatHistory[currentAiTab]);
    }

    async function streamAiResponse(mode, messages) {
        isGenerating = true;
        let fullText = "";
        // åˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯æ°”æ³¡
        const msgDiv = appendMessageToUI('assistant', '...', true);
        
        // ç”¨äºè§£å†³åˆ†åŒ…é—®é¢˜çš„ç¼“å†²åŒº
        let buffer = ""; 

        try {
            const response = await fetch("/api/chat", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ messages: messages })
            });

            if (!response.ok) throw new Error(`Server error: ${response.status}`);

            const reader = response.body.getReader();
            const decoder = new TextDecoder("utf-8");

            while (true) {
                const { done, value } = await reader.read();
                if (done) break;

                // 1. è§£ç å½“å‰å—å¹¶è¿½åŠ åˆ°ç¼“å†²åŒº
                const chunk = decoder.decode(value, { stream: true });
                buffer += chunk;

                // 2. æŒ‰æ¢è¡Œç¬¦åˆ†å‰²ç¼“å†²åŒº
                const lines = buffer.split('\n');

                // 3. ä¿ç•™æœ€åä¸€ä¸ªå¯èƒ½ä¸å®Œæ•´çš„ç‰‡æ®µåœ¨ç¼“å†²åŒºä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡æ‹¼æ¥
                buffer = lines.pop(); 

                for (const line of lines) {
                    const trimmedLine = line.trim();
                    if (!trimmedLine || trimmedLine === 'data: [DONE]') continue;

                    if (trimmedLine.startsWith('data: ')) {
                        const jsonStr = trimmedLine.slice(6);
                        try {
                            const json = JSON.parse(jsonStr);
                            const content = json.choices[0].delta.content || "";
                            
                            // ã€Debugã€‘å¦‚æœå¼€å¯ï¼Œæ‰“å°åŸå§‹å†…å®¹
                            if (isDebug) console.log("Chunk:", content);

                            fullText += content;

                            // 4. å®æ—¶æ¸²æŸ“
                            // ç®€å•çš„é˜²æŠ–åŠ¨ä¼˜åŒ–ï¼šåªæœ‰å½“å†…å®¹åŒ…å«æ¢è¡Œæˆ–æ ‡ç‚¹æ—¶æ‰é¢‘ç¹æ¸²æŸ“ï¼Œ
                            // æˆ–è€…æ¯éš”ä¸€å®šé•¿åº¦æ¸²æŸ“ï¼Œè¿™é‡Œä¸ºäº†æµç•…åº¦ä¿æŒæ¯æ¬¡æ¸²æŸ“ï¼Œ
                            // ä½†è¦ç¡®ä¿ marked è§£æçš„æ˜¯ cleanText
                            const cleanText = fullText.replace(/\*\*\s+(.*?)\s+\*\*/g, '**$1**');
                            
                            // åªæœ‰å½“ msgDiv å­˜åœ¨æ—¶æ‰æ›´æ–°
                            if (msgDiv) {
                                msgDiv.innerHTML = marked.parse(cleanText) + '<span class="cursor"></span>';
                                // ä¿æŒæ»šåŠ¨åˆ°åº•éƒ¨
                                const box = document.getElementById('chat-box');
                                box.scrollTop = box.scrollHeight;
                            }

                        } catch (e) {
                            // å¦‚æœ JSON è§£æå¤±è´¥ï¼Œè¯´æ˜è¿™ä¸€è¡Œæ•°æ®æœ‰é—®é¢˜ï¼ˆé€šå¸¸æœ‰äº† buffer æœºåˆ¶åå¾ˆå°‘å‘ç”Ÿï¼‰
                            if (isDebug) console.error("JSON Parse Error:", e, "Line:", trimmedLine);
                        }
                    }
                }
            }
            
            // 5. ç»“æŸåï¼Œè®°å½•å®Œæ•´å†å²
            chatHistory[mode].push({ role: "assistant", content: fullText });
            
            // 6. æœ€åä¸€æ¬¡æ¸²æŸ“ï¼Œç§»é™¤å…‰æ ‡
            if (msgDiv) {
                const cleanText = fullText.replace(/\*\*\s+(.*?)\s+\*\*/g, '**$1**');
                msgDiv.innerHTML = marked.parse(cleanText);
            }

        } catch (error) {
            if (msgDiv) msgDiv.innerHTML += `<br><span style="color:red">**é”™è¯¯**ï¼šè¿æ¥ä¸­æ–­ (${error.message})</span>`;
            console.error(error);
        } finally {
            isGenerating = false;
        }
    }


    // --- 5. å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ ---

    function exportData() {
        const data = {
            timestamp: new Date().toISOString(),
            finalType: finalType,
            normalizedScores: normalizedScores,
            targetCount: targetCount,
            chatHistory: chatHistory
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `è£æ ¼å…«ç»´æµ‹è¯•ç»“æœ_${finalType}_${new Date().toLocaleDateString()}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    function importData(input) {
        const file = input.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const data = JSON.parse(e.target.result);
                
                finalType = data.finalType;
                normalizedScores = data.normalizedScores;
                targetCount = data.targetCount;
                chatHistory = data.chatHistory || { general:[], career:[], love:[] };
                
                let matchScores = [];
                for (let t in types) {
                    const stack = types[t];
                    let s = (normalizedScores[stack[0]]*4) + 
                            (normalizedScores[stack[1]]*3) + 
                            (normalizedScores[stack[2]]*2) + 
                            (normalizedScores[stack[3]]*1);
                    let matchPct = (s / 1000) * 100;
                    matchScores.push({ type: t, score: matchPct.toFixed(1) });
                }
                matchScores.sort((a, b) => b.score - a.score);

                showResultPage(matchScores);
                alert("å¯¼å…¥æˆåŠŸï¼");
                
            } catch (err) {
                alert("æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼Œæ— æ³•å¯¼å…¥ã€‚");
                console.error(err);
            }
        };
        reader.readAsText(file);
        input.value = '';
    }

</script>

</body>
</html>
